<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>操作手册 | 云原生资料库</title>
    <link>https://lib.jimmysong.io/argo-cd/operator-manual/</link>
      <atom:link href="https://lib.jimmysong.io/argo-cd/operator-manual/index.xml" rel="self" type="application/rss+xml" />
    <description>操作手册</description>
    <generator>Wowchemy (https://wowchemy.com)</generator><language>zh</language><lastBuildDate>Fri, 30 Jun 2023 16:00:00 +0800</lastBuildDate>
    <image>
      <url>https://lib.jimmysong.io/media/sharing.png</url>
      <title>操作手册</title>
      <link>https://lib.jimmysong.io/argo-cd/operator-manual/</link>
    </image>
    
    <item>
      <title>架构概述</title>
      <link>https://lib.jimmysong.io/argo-cd/operator-manual/architecture/</link>
      <pubDate>Fri, 30 Jun 2023 16:00:00 +0800</pubDate>
      <guid>https://lib.jimmysong.io/argo-cd/operator-manual/architecture/</guid>
      <description>&lt;p&gt;















&lt;figure  id=&#34;figure-argo-cd-架构&#34;&gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img src=&#34;../../assets/argocd_architecture.png&#34; alt=&#34;Argo CD 架构&#34; loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;figcaption&gt;
      Argo CD 架构
    &lt;/figcaption&gt;&lt;/figure&gt;
&lt;/p&gt;
&lt;h2 id=&#34;组件&#34;&gt;组件&lt;/h2&gt;
&lt;h3 id=&#34;api-服务器&#34;&gt;API 服务器&lt;/h3&gt;
&lt;p&gt;API 服务器是一个 gRPC/REST 服务器，用于公开 Web UI、CLI 和 CI/CD 系统使用的 API。它具有以下职责：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;应用程序管理和状态报告&lt;/li&gt;
&lt;li&gt;调用应用程序操作（例如同步、回滚、用户定义的操作）&lt;/li&gt;
&lt;li&gt;存储为 K8s 机密的存储库和集群凭据管理&lt;/li&gt;
&lt;li&gt;身份验证和身份验证委派到外部身份提供者&lt;/li&gt;
&lt;li&gt;RBAC 执行&lt;/li&gt;
&lt;li&gt;Git webhook 事件的侦听器/转发器&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;存储库服务器&#34;&gt;存储库服务器&lt;/h3&gt;
&lt;p&gt;存储库服务器是一个内部服务，它维护 Git 存储库的本地缓存，其中包含应用程序清单。它负责在提供以下输入时生成并返回 Kubernetes 清单：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;存储库 URL&lt;/li&gt;
&lt;li&gt;修订版（提交、标记、分支）&lt;/li&gt;
&lt;li&gt;应用程序路径&lt;/li&gt;
&lt;li&gt;模板特定设置：参数、helm values.yaml&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;应用程序控制器&#34;&gt;应用程序控制器&lt;/h3&gt;
&lt;p&gt;应用程序控制器是一个 Kubernetes 控制器，它不断监视运行中的应用程序，并将当前的实时状态与期望的目标状态（如 repo 中指定的）进行比较。它检测 &lt;code&gt;OutOfSync&lt;/code&gt; 应用程序状态，并可选择采取纠正措施。它负责调用任何用户定义的生命周期事件钩子（PreSync、Sync、PostSync）&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>
