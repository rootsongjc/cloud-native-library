<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Argo CD | äº‘åŸç”Ÿèµ„æ–™åº“</title>
    <link>https://lib.jimmysong.io/tag/argo-cd/</link>
      <atom:link href="https://lib.jimmysong.io/tag/argo-cd/index.xml" rel="self" type="application/rss+xml" />
    <description>Argo CD</description>
    <generator>Wowchemy (https://wowchemy.com)</generator><language>zh</language><lastBuildDate>Fri, 30 Jun 2023 16:20:00 +0800</lastBuildDate>
    <image>
      <url>https://lib.jimmysong.io/media/sharing.png</url>
      <title>Argo CD</title>
      <link>https://lib.jimmysong.io/tag/argo-cd/</link>
    </image>
    
    <item>
      <title>å·¥å…·</title>
      <link>https://lib.jimmysong.io/argo-cd/user-guide/application-sources/</link>
      <pubDate>Fri, 30 Jun 2023 16:00:00 +0800</pubDate>
      <guid>https://lib.jimmysong.io/argo-cd/user-guide/application-sources/</guid>
      <description>&lt;h2 id=&#34;ç”Ÿäº§&#34;&gt;ç”Ÿäº§&lt;/h2&gt;
&lt;p&gt;Argo CD æ”¯æŒå¤šç§ä¸åŒçš„ Kubernetes æ¸…å•å®šä¹‰æ–¹å¼ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://argo-cd.readthedocs.io/en/stable/user-guide/kustomize/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Kustomize&lt;/a&gt;åº”ç”¨ç¨‹åº&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://argo-cd.readthedocs.io/en/stable/user-guide/helm/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Helm&lt;/a&gt; Chart&lt;/li&gt;
&lt;li&gt;YAML/JSON/Jsonnet æ¸…å•çš„ç›®å½•ï¼ŒåŒ…æ‹¬&lt;a href=&#34;https://argo-cd.readthedocs.io/en/stable/user-guide/jsonnet/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Jsonnet&lt;/a&gt;ã€‚&lt;/li&gt;
&lt;li&gt;ä»»ä½•é…ç½®ä¸ºé…ç½®ç®¡ç†æ’ä»¶çš„&lt;a href=&#34;https://argo-cd.readthedocs.io/en/stable/operator-manual/config-management-plugins/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;è‡ªå®šä¹‰é…ç½®ç®¡ç†å·¥å…·&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;å¼€å‘&#34;&gt;å¼€å‘&lt;/h2&gt;
&lt;p&gt;Argo CD è¿˜æ”¯æŒç›´æ¥ä¸Šä¼ æœ¬åœ°æ¸…å•ã€‚ç”±äºè¿™æ˜¯ GitOps èŒƒå¼çš„åæ¨¡å¼ï¼Œå› æ­¤åªèƒ½å‡ºäºå¼€å‘ç›®çš„è€Œè¿™æ ·åšã€‚&lt;code&gt;override&lt;/code&gt;éœ€è¦å…·æœ‰æƒé™çš„ç”¨æˆ·ï¼ˆé€šå¸¸æ˜¯ç®¡ç†å‘˜ï¼‰æ‰èƒ½åœ¨æœ¬åœ°ä¸Šä¼ æ¸…å•ã€‚æ”¯æŒä¸Šè¿°æ‰€æœ‰ä¸åŒçš„ Kubernetes éƒ¨ç½²å·¥å…·ã€‚ä¸Šä¼ æœ¬åœ°åº”ç”¨ç¨‹åºï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ argocd app sync APPNAME --local /path/to/dir/
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
    </item>
    
    <item>
      <title>æ¶æ„æ¦‚è¿°</title>
      <link>https://lib.jimmysong.io/argo-cd/operator-manual/architecture/</link>
      <pubDate>Fri, 30 Jun 2023 16:00:00 +0800</pubDate>
      <guid>https://lib.jimmysong.io/argo-cd/operator-manual/architecture/</guid>
      <description>&lt;p&gt;















&lt;figure  id=&#34;figure-argo-cd-æ¶æ„&#34;&gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img src=&#34;../../assets/argocd_architecture.png&#34; alt=&#34;Argo CD æ¶æ„&#34; loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;figcaption&gt;
      Argo CD æ¶æ„
    &lt;/figcaption&gt;&lt;/figure&gt;
&lt;/p&gt;
&lt;h2 id=&#34;ç»„ä»¶&#34;&gt;ç»„ä»¶&lt;/h2&gt;
&lt;h3 id=&#34;api-æœåŠ¡å™¨&#34;&gt;API æœåŠ¡å™¨&lt;/h3&gt;
&lt;p&gt;API æœåŠ¡å™¨æ˜¯ä¸€ä¸ª gRPC/REST æœåŠ¡å™¨ï¼Œç”¨äºå…¬å¼€ Web UIã€CLI å’Œ CI/CD ç³»ç»Ÿä½¿ç”¨çš„ APIã€‚å®ƒå…·æœ‰ä»¥ä¸‹èŒè´£ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åº”ç”¨ç¨‹åºç®¡ç†å’ŒçŠ¶æ€æŠ¥å‘Š&lt;/li&gt;
&lt;li&gt;è°ƒç”¨åº”ç”¨ç¨‹åºæ“ä½œï¼ˆä¾‹å¦‚åŒæ­¥ã€å›æ»šã€ç”¨æˆ·å®šä¹‰çš„æ“ä½œï¼‰&lt;/li&gt;
&lt;li&gt;å­˜å‚¨ä¸º K8s æœºå¯†çš„å­˜å‚¨åº“å’Œé›†ç¾¤å‡­æ®ç®¡ç†&lt;/li&gt;
&lt;li&gt;èº«ä»½éªŒè¯å’Œèº«ä»½éªŒè¯å§”æ´¾åˆ°å¤–éƒ¨èº«ä»½æä¾›è€…&lt;/li&gt;
&lt;li&gt;RBAC æ‰§è¡Œ&lt;/li&gt;
&lt;li&gt;Git webhook äº‹ä»¶çš„ä¾¦å¬å™¨/è½¬å‘å™¨&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;å­˜å‚¨åº“æœåŠ¡å™¨&#34;&gt;å­˜å‚¨åº“æœåŠ¡å™¨&lt;/h3&gt;
&lt;p&gt;å­˜å‚¨åº“æœåŠ¡å™¨æ˜¯ä¸€ä¸ªå†…éƒ¨æœåŠ¡ï¼Œå®ƒç»´æŠ¤ Git å­˜å‚¨åº“çš„æœ¬åœ°ç¼“å­˜ï¼Œå…¶ä¸­åŒ…å«åº”ç”¨ç¨‹åºæ¸…å•ã€‚å®ƒè´Ÿè´£åœ¨æä¾›ä»¥ä¸‹è¾“å…¥æ—¶ç”Ÿæˆå¹¶è¿”å› Kubernetes æ¸…å•ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å­˜å‚¨åº“ URL&lt;/li&gt;
&lt;li&gt;ä¿®è®¢ç‰ˆï¼ˆæäº¤ã€æ ‡è®°ã€åˆ†æ”¯ï¼‰&lt;/li&gt;
&lt;li&gt;åº”ç”¨ç¨‹åºè·¯å¾„&lt;/li&gt;
&lt;li&gt;æ¨¡æ¿ç‰¹å®šè®¾ç½®ï¼šå‚æ•°ã€helm values.yaml&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;åº”ç”¨ç¨‹åºæ§åˆ¶å™¨&#34;&gt;åº”ç”¨ç¨‹åºæ§åˆ¶å™¨&lt;/h3&gt;
&lt;p&gt;åº”ç”¨ç¨‹åºæ§åˆ¶å™¨æ˜¯ä¸€ä¸ª Kubernetes æ§åˆ¶å™¨ï¼Œå®ƒä¸æ–­ç›‘è§†è¿è¡Œä¸­çš„åº”ç”¨ç¨‹åºï¼Œå¹¶å°†å½“å‰çš„å®æ—¶çŠ¶æ€ä¸æœŸæœ›çš„ç›®æ ‡çŠ¶æ€ï¼ˆå¦‚ repo ä¸­æŒ‡å®šçš„ï¼‰è¿›è¡Œæ¯”è¾ƒã€‚å®ƒæ£€æµ‹ &lt;code&gt;OutOfSync&lt;/code&gt; åº”ç”¨ç¨‹åºçŠ¶æ€ï¼Œå¹¶å¯é€‰æ‹©é‡‡å–çº æ­£æªæ–½ã€‚å®ƒè´Ÿè´£è°ƒç”¨ä»»ä½•ç”¨æˆ·å®šä¹‰çš„ç”Ÿå‘½å‘¨æœŸäº‹ä»¶é’©å­ï¼ˆPreSyncã€Syncã€PostSyncï¼‰&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Argo CD ç®€ä»‹</title>
      <link>https://lib.jimmysong.io/argo-cd/overview/</link>
      <pubDate>Fri, 30 Jun 2023 16:00:00 +0800</pubDate>
      <guid>https://lib.jimmysong.io/argo-cd/overview/</guid>
      <description>&lt;h2 id=&#34;ä»€ä¹ˆæ˜¯-argo-cd&#34;&gt;ä»€ä¹ˆæ˜¯ Argo CDï¼Ÿ&lt;/h2&gt;
&lt;p&gt;Argo CD æ˜¯ä¸€ä¸ªåŸºäºå£°æ˜å¼ GitOps çš„ Kubernetes åº”ç”¨ç¨‹åºäº¤ä»˜å·¥å…·ã€‚&lt;/p&gt;
&lt;p&gt;















&lt;figure  id=&#34;figure-argo-cd-ui&#34;&gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img src=&#34;../assets/argocd-ui.gif&#34; alt=&#34;Argo CD UI&#34; loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;figcaption&gt;
      Argo CD UI
    &lt;/figcaption&gt;&lt;/figure&gt;
&lt;/p&gt;
&lt;h2 id=&#34;ä¸ºä»€ä¹ˆé€‰æ‹©-argo-cd&#34;&gt;ä¸ºä»€ä¹ˆé€‰æ‹© Argo CDï¼Ÿ&lt;/h2&gt;
&lt;p&gt;åº”ç”¨ç¨‹åºå®šä¹‰ã€é…ç½®å’Œç¯å¢ƒåº”è¯¥æ˜¯å£°æ˜å¼çš„ï¼Œå¹¶è¿›è¡Œç‰ˆæœ¬æ§åˆ¶ã€‚åº”ç”¨ç¨‹åºéƒ¨ç½²å’Œç”Ÿå‘½å‘¨æœŸç®¡ç†åº”è¯¥æ˜¯è‡ªåŠ¨åŒ–çš„ã€å¯å®¡è®¡çš„å’Œæ˜“äºç†è§£çš„ã€‚&lt;/p&gt;
&lt;h2 id=&#34;å…¥é—¨æŒ‡å—&#34;&gt;å…¥é—¨æŒ‡å—&lt;/h2&gt;
&lt;h3 id=&#34;å¿«é€Ÿå…¥é—¨&#34;&gt;å¿«é€Ÿå…¥é—¨&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;kubectl create namespace argocd
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;kubectl apply -n argocd -f https://raw.githubusercontent.com/argoproj/argo-cd/stable/manifests/install.yaml
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¯·å‚é˜…æˆ‘ä»¬çš„&lt;a href=&#34;../getting-started/&#34;&gt;å…¥é—¨æŒ‡å—&lt;/a&gt;ã€‚æˆ‘ä»¬è¿˜ä¸ºå…¶ä»–åŠŸèƒ½æä¾›äº†é¢å‘ç”¨æˆ·çš„æ–‡æ¡£ã€‚å¦‚æœä½ æƒ³å‡çº§ ArgoCDï¼Œè¯·å‚é˜…å‡çº§æŒ‡å—ã€‚æˆ‘ä»¬è¿˜ä¸ºæœ‰å…´è¶£æ„å»ºç¬¬ä¸‰æ–¹é›†æˆçš„å¼€å‘äººå‘˜æä¾›é¢å‘å¼€å‘è€…çš„æ–‡æ¡£ã€‚&lt;/p&gt;
&lt;h2 id=&#34;å·¥ä½œåŸç†&#34;&gt;å·¥ä½œåŸç†&lt;/h2&gt;
&lt;p&gt;Argo CD éµå¾ªä½¿ç”¨ Git å­˜å‚¨åº“ä½œä¸ºå®šä¹‰æœŸæœ›åº”ç”¨ç¨‹åºçŠ¶æ€çš„çœŸå®æ¥æºçš„ GitOps æ¨¡å¼ã€‚Kubernetes æ¸…å•å¯ä»¥é€šè¿‡ä»¥ä¸‹å‡ ç§æ–¹å¼æŒ‡å®šï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://kustomize.io/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;kustomize&lt;/a&gt; åº”ç”¨ç¨‹åº&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://helm.sh/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;helm&lt;/a&gt; chart&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://jsonnet.org/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;jsonnet&lt;/a&gt; æ–‡ä»¶&lt;/li&gt;
&lt;li&gt;YAML/json æ¸…å•çš„æ™®é€šç›®å½•&lt;/li&gt;
&lt;li&gt;é…ç½®ä¸ºé…ç½®ç®¡ç†æ’ä»¶çš„ä»»ä½•è‡ªå®šä¹‰é…ç½®ç®¡ç†å·¥å…·&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Argo CD è‡ªåŠ¨éƒ¨ç½²æŒ‡å®šç›®æ ‡ç¯å¢ƒä¸­æ‰€éœ€çš„åº”ç”¨ç¨‹åºçŠ¶æ€ã€‚åº”ç”¨ç¨‹åºéƒ¨ç½²å¯ä»¥è·Ÿè¸ªåˆ†æ”¯ã€æ ‡ç­¾çš„æ›´æ–°æˆ–å›ºå®šåˆ° Git æäº¤çš„ç‰¹å®šç‰ˆæœ¬çš„æ¸…å•ã€‚è¯·å‚è§&lt;a href=&#34;../user-guide/tracking-strategies/&#34;&gt;è·Ÿè¸ªç­–ç•¥&lt;/a&gt;ä»¥äº†è§£æœ‰å…³å¯ç”¨è·Ÿè¸ªç­–ç•¥çš„æ›´å¤šè¯¦ç»†ä¿¡æ¯ã€‚&lt;/p&gt;
&lt;p&gt;é’ˆå¯¹ Sig Apps ç¤¾åŒºä¼šè®®å±•ç¤ºçš„å¿«é€Ÿ 10 åˆ†é’Ÿçš„ Argo CD æ¦‚è¿°ï¼Œè¯·æŸ¥çœ‹æ¼”ç¤ºï¼š&lt;/p&gt;

&lt;div style=&#34;position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;&#34;&gt;
  &lt;iframe src=&#34;https://www.youtube.com/embed/aWDIQMbp1cc&#34; style=&#34;position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;&#34; allowfullscreen title=&#34;YouTube Video&#34;&gt;&lt;/iframe&gt;
&lt;/div&gt;

&lt;h2 id=&#34;æ¶æ„&#34;&gt;æ¶æ„&lt;/h2&gt;
&lt;p&gt;















&lt;figure  id=&#34;figure-argocd-æ¶æ„&#34;&gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img src=&#34;../assets/argocd_architecture.png&#34; alt=&#34;ArgoCD æ¶æ„&#34; loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;figcaption&gt;
      ArgoCD æ¶æ„
    &lt;/figcaption&gt;&lt;/figure&gt;
&lt;/p&gt;
&lt;p&gt;Argo CD å®ç°ä¸º Kubernetes æ§åˆ¶å™¨ï¼Œå®ƒæŒç»­ç›‘è§†æ­£åœ¨è¿è¡Œçš„åº”ç”¨ç¨‹åºï¼Œå¹¶å°†å½“å‰çš„å®æ—¶çŠ¶æ€ä¸æ‰€éœ€çš„ç›®æ ‡çŠ¶æ€ï¼ˆå¦‚ Git å­˜å‚¨åº“ä¸­æŒ‡å®šçš„çŠ¶æ€ï¼‰è¿›è¡Œæ¯”è¾ƒã€‚å®æ—¶çŠ¶æ€åç¦»ç›®æ ‡çŠ¶æ€çš„å·²éƒ¨ç½²åº”ç”¨ç¨‹åºè¢«è§†ä¸ºâ€œOutofSyncâ€ã€‚Argo CD æŠ¥å‘Šå¹¶å¯è§†åŒ–å·®å¼‚ï¼ŒåŒæ—¶æä¾›è‡ªåŠ¨æˆ–æ‰‹åŠ¨åŒæ­¥å®æ—¶çŠ¶æ€åˆ°æ‰€éœ€ç›®æ ‡çŠ¶æ€çš„è®¾æ–½ã€‚å¯¹ Git å­˜å‚¨åº“ä¸­æ‰€éœ€çš„ç›®æ ‡çŠ¶æ€æ‰€åšçš„ä»»ä½•ä¿®æ”¹éƒ½å¯ä»¥è‡ªåŠ¨åº”ç”¨å¹¶åæ˜ åœ¨æŒ‡å®šçš„ç›®æ ‡ç¯å¢ƒä¸­ã€‚&lt;/p&gt;
&lt;p&gt;æœ‰å…³è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚è§&lt;a href=&#34;../operator-manual/architecture/&#34;&gt;æ¶æ„æ¦‚è¿°&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;h2 id=&#34;åŠŸèƒ½&#34;&gt;åŠŸèƒ½&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;è‡ªåŠ¨å°†åº”ç”¨ç¨‹åºéƒ¨ç½²åˆ°æŒ‡å®šçš„ç›®æ ‡ç¯å¢ƒ&lt;/li&gt;
&lt;li&gt;æ”¯æŒå¤šä¸ªé…ç½®ç®¡ç†/æ¨¡æ¿å·¥å…·ï¼ˆKustomizeã€Helmã€Jsonnetã€plain-YAMLï¼‰&lt;/li&gt;
&lt;li&gt;èƒ½å¤Ÿç®¡ç†å’Œéƒ¨ç½²åˆ°å¤šä¸ªé›†ç¾¤&lt;/li&gt;
&lt;li&gt;SSO é›†æˆï¼ˆOIDCã€OAuth2ã€LDAPã€SAML 2.0ã€GitHubã€GitLabã€Microsoftã€LinkedInï¼‰&lt;/li&gt;
&lt;li&gt;æˆæƒçš„å¤šç§Ÿæˆ·å’Œ RBAC ç­–ç•¥&lt;/li&gt;
&lt;li&gt;å›æ»š/åœ¨ä»»ä½•æäº¤åˆ° Git å­˜å‚¨åº“ä¸­çš„åº”ç”¨ç¨‹åºé…ç½®ä¸­è¿›è¡Œå›æ»š&lt;/li&gt;
&lt;li&gt;åº”ç”¨ç¨‹åºèµ„æºçš„å¥åº·çŠ¶æ€åˆ†æ&lt;/li&gt;
&lt;li&gt;è‡ªåŠ¨é…ç½®æ¼‚ç§»æ£€æµ‹å’Œå¯è§†åŒ–&lt;/li&gt;
&lt;li&gt;åº”ç”¨ç¨‹åºåŒæ­¥åˆ°å…¶æ‰€éœ€çŠ¶æ€çš„è‡ªåŠ¨æˆ–æ‰‹åŠ¨åŒæ­¥&lt;/li&gt;
&lt;li&gt;Web UI æä¾›åº”ç”¨ç¨‹åºæ´»åŠ¨çš„å®æ—¶è§†å›¾&lt;/li&gt;
&lt;li&gt;ç”¨äºè‡ªåŠ¨åŒ–å’Œ CI é›†æˆçš„ CLI&lt;/li&gt;
&lt;li&gt;Webhook é›†æˆï¼ˆGitHubã€BitBucketã€GitLabï¼‰&lt;/li&gt;
&lt;li&gt;è®¿é—®ä»¤ç‰Œç”¨äºè‡ªåŠ¨åŒ–&lt;/li&gt;
&lt;li&gt;ä¸ºè¦†ç›– Git ä¸­çš„ Helm å‚æ•°è€Œæä¾›çš„å‚æ•°é‡å†™&lt;/li&gt;
&lt;li&gt;ç”¨äºæ”¯æŒå¤æ‚åº”ç”¨ç¨‹åºå‡çº§ï¼ˆä¾‹å¦‚è“/ç»¿å’Œé‡‘ä¸é›€å‡çº§ï¼‰çš„ PreSyncã€Syncã€PostSync é’©å­&lt;/li&gt;
&lt;li&gt;åº”ç”¨ç¨‹åºäº‹ä»¶å’Œ API è°ƒç”¨çš„å®¡è®¡è·Ÿè¸ª&lt;/li&gt;
&lt;li&gt;Prometheus æŒ‡æ ‡&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;å¼€å‘çŠ¶æ€&#34;&gt;å¼€å‘çŠ¶æ€&lt;/h2&gt;
&lt;p&gt;Argo CD æ­£åœ¨ç”±ç¤¾åŒºç§¯æå¼€å‘ã€‚æˆ‘ä»¬çš„å‘å¸ƒå¯ä»¥åœ¨&lt;a href=&#34;https://github.com/argoproj/argo-cd/releases&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;è¿™é‡Œ&lt;/a&gt;æ‰¾åˆ°ã€‚&lt;/p&gt;
&lt;h2 id=&#34;é‡‡ç”¨æƒ…å†µ&#34;&gt;é‡‡ç”¨æƒ…å†µ&lt;/h2&gt;
&lt;p&gt;æ­£å¼é‡‡ç”¨ Argo CD çš„ç»„ç»‡å¯ä»¥åœ¨&lt;a href=&#34;https://github.com/argoproj/argo-cd/blob/master/USERS.md&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;è¿™é‡Œ&lt;/a&gt;æ‰¾åˆ°ã€‚&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>ApplicationSet æ§åˆ¶å™¨ä»‹ç»</title>
      <link>https://lib.jimmysong.io/argo-cd/operator-manual/applicationset/overview/</link>
      <pubDate>Fri, 30 Jun 2023 16:00:00 +0800</pubDate>
      <guid>https://lib.jimmysong.io/argo-cd/operator-manual/applicationset/overview/</guid>
      <description>&lt;h2 id=&#34;ä»‹ç»&#34;&gt;ä»‹ç»&lt;/h2&gt;
&lt;p&gt;åº”ç”¨ç¨‹åºé›†æ§åˆ¶å™¨æ˜¯ä¸€ä¸ª&lt;a href=&#34;https://kubernetes.io/docs/concepts/architecture/controller/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Kubernetes æ§åˆ¶å™¨&lt;/a&gt;ï¼Œå®ƒæ·»åŠ äº†å¯¹&lt;code&gt;ApplicationSet&lt;/code&gt;&lt;a href=&#34;https://kubernetes.io/docs/tasks/extend-kubernetes/custom-resources/custom-resource-definitions/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;è‡ªå®šä¹‰èµ„æºå®šä¹‰&lt;/a&gt; (CRD) çš„æ”¯æŒã€‚è¿™ä¸ªæ§åˆ¶å™¨/CRD ä½¿å¾—è‡ªåŠ¨åŒ–å’Œæ›´å¤§çš„çµæ´»æ€§åœ¨ç®¡ç† Argo CD åº”ç”¨ç¨‹åºè·¨å¤§é‡çš„é›†ç¾¤å’Œåœ¨ monorepos å†…æˆä¸ºå¯èƒ½ï¼ŒåŒæ—¶å®ƒä½¿å¤šç§Ÿæˆ· Kubernetes é›†ç¾¤ä¸Šçš„è‡ªåŠ©å¼ä½¿ç”¨æˆä¸ºå¯èƒ½ã€‚&lt;/p&gt;
&lt;p&gt;åº”ç”¨ç¨‹åºé›†æ§åˆ¶å™¨ä¸ç°æœ‰çš„ Argo CD å®‰è£…ä¸€èµ·å·¥ä½œã€‚Argo CD æ˜¯ä¸€ä¸ªå£°æ˜æ€§çš„ã€GitOps æŒç»­äº¤ä»˜å·¥å…·ï¼Œå…è®¸å¼€å‘äººå‘˜ä»ä»–ä»¬ç°æœ‰çš„ Git å·¥ä½œæµç¨‹ä¸­å®šä¹‰å’Œæ§åˆ¶ Kubernetes åº”ç”¨ç¨‹åºèµ„æºçš„éƒ¨ç½²ã€‚&lt;/p&gt;
&lt;p&gt;ä» Argo CD v2.3 å¼€å§‹ï¼Œåº”ç”¨ç¨‹åºé›†æ§åˆ¶å™¨ä¸ Argo CD æ†ç»‘åœ¨ä¸€èµ·ã€‚&lt;/p&gt;
&lt;p&gt;åº”ç”¨ç¨‹åºé›†æ§åˆ¶å™¨é€šè¿‡æ·»åŠ æ”¯æŒé¢å‘é›†ç¾¤ç®¡ç†å‘˜çš„é™„åŠ åŠŸèƒ½æ¥è¡¥å…… Argo CDã€‚&lt;code&gt;ApplicationSet&lt;/code&gt;æ§åˆ¶å™¨æä¾›ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä½¿ç”¨å•ä¸ª Kubernetes æ¸…å•å®šä½å¤šä¸ª Kubernetes é›†ç¾¤çš„èƒ½åŠ›ï¼Œä½¿ç”¨ Argo CD éƒ¨ç½²å¤šä¸ªåº”ç”¨ç¨‹åºçš„èƒ½åŠ›&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨å•ä¸ª Kubernetes æ¸…å•ä»ä¸€ä¸ªæˆ–å¤šä¸ª Git å­˜å‚¨åº“ä¸­éƒ¨ç½²å¤šä¸ªåº”ç”¨ç¨‹åºçš„èƒ½åŠ›&lt;/li&gt;
&lt;li&gt;æ”¹è¿›äº†å¯¹ monorepos çš„æ”¯æŒï¼šåœ¨ Argo CD çš„ä¸Šä¸‹æ–‡ä¸­ï¼Œmonorepo æ˜¯ä¸€ä¸ªå•ä¸ª Git å­˜å‚¨åº“ä¸­å®šä¹‰çš„å¤šä¸ª Argo CD åº”ç”¨ç¨‹åºèµ„æº&lt;/li&gt;
&lt;li&gt;åœ¨å¤šç§Ÿæˆ·é›†ç¾¤ä¸­ï¼Œæé«˜äº†å„ä¸ªé›†ç¾¤ç§Ÿæˆ·ä½¿ç”¨ Argo CD éƒ¨ç½²åº”ç”¨ç¨‹åºçš„èƒ½åŠ›ï¼ˆæ— éœ€æ¶‰åŠç‰¹æƒé›†ç¾¤ç®¡ç†å‘˜ä»¥å¯ç”¨ç›®æ ‡é›†ç¾¤/å‘½åç©ºé—´ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ğŸ”” æ³¨æ„ï¼šåœ¨ä½¿ç”¨ ApplicationSets ä¹‹å‰ï¼Œè¯·æ³¨æ„å…¶å®‰å…¨å½±å“ã€‚&lt;/p&gt;
&lt;h2 id=&#34;åº”ç”¨ç¨‹åºé›†èµ„æº&#34;&gt;åº”ç”¨ç¨‹åºé›†èµ„æº&lt;/h2&gt;
&lt;p&gt;æ­¤ç¤ºä¾‹å®šä¹‰äº†ä¸€ä¸ªåä¸º&lt;code&gt;guestbook&lt;/code&gt;çš„&lt;code&gt;ApplicationSet&lt;/code&gt;èµ„æºï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nt&#34;&gt;apiVersion&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;argoproj.io/v1alpha1&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;kind&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;ApplicationSet&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;metadata&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;guestbook&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;spec&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;generators&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;- &lt;span class=&#34;nt&#34;&gt;list&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;elements&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;- &lt;span class=&#34;nt&#34;&gt;cluster&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;engineering-dev&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;url&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;https://1.2.3.4&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;- &lt;span class=&#34;nt&#34;&gt;cluster&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;engineering-prod&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;url&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;https://2.4.6.8&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;- &lt;span class=&#34;nt&#34;&gt;cluster&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;finance-preprod&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;url&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;https://9.8.7.6&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;template&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;metadata&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;{{cluster}}-guestbook&amp;#39;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;spec&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;project&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;my-project&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;source&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;repoURL&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;&amp;lt;https://github.com/infra-team/cluster-deployments.git&amp;gt;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;targetRevision&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;HEAD&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;path&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;guestbook/{{cluster}}&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;destination&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;server&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;{{url}}&amp;#39;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;namespace&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;guestbook&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;åœ¨æ­¤ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬æƒ³è¦å°†æˆ‘ä»¬çš„&lt;code&gt;guestbook&lt;/code&gt;åº”ç”¨ç¨‹åºï¼ˆç”±äºè¿™æ˜¯ GitOpsï¼Œè¯¥åº”ç”¨ç¨‹åºçš„ Kubernetes èµ„æºæ¥è‡ª Gitï¼‰éƒ¨ç½²åˆ°ä¸€ç³»åˆ— Kubernetes é›†ç¾¤ï¼ˆç›®æ ‡é›†ç¾¤çš„åˆ—è¡¨åœ¨&lt;code&gt;ApplicationSet&lt;/code&gt;èµ„æºçš„ List é¡¹å…ƒç´ ä¸­å®šä¹‰ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;è™½ç„¶&lt;code&gt;ApplicationSet&lt;/code&gt;èµ„æºå¯ä»¥ä½¿ç”¨å¤šç§ç±»å‹çš„&lt;em&gt;ç”Ÿæˆå™¨&lt;/em&gt;ï¼Œä½†æ­¤ç¤ºä¾‹ä½¿ç”¨äº†åˆ—è¡¨ç”Ÿæˆå™¨ï¼Œå®ƒåªåŒ…å«ä¸€ä¸ªå›ºå®šçš„ã€å­—é¢çš„é›†ç¾¤åˆ—è¡¨ã€‚è¿™ä¸ªé›†ç¾¤åˆ—è¡¨å°†æ˜¯ Argo CD åœ¨å¤„ç†äº†&lt;code&gt;ApplicationSet&lt;/code&gt;èµ„æºåéƒ¨ç½²&lt;code&gt;guestbook&lt;/code&gt;åº”ç”¨ç¨‹åºèµ„æºçš„é›†ç¾¤ã€‚&lt;/p&gt;
&lt;p&gt;ç”Ÿæˆå™¨ï¼ˆå¦‚ List ç”Ÿæˆå™¨ï¼‰è´Ÿè´£ç”Ÿæˆ&lt;em&gt;å‚æ•°&lt;/em&gt;ã€‚å‚æ•°æ˜¯é”®å€¼å¯¹ï¼Œåœ¨æ¨¡æ¿æ¸²æŸ“æœŸé—´è¢«æ›¿æ¢åˆ°&lt;code&gt;ApplicationSet&lt;/code&gt;èµ„æºçš„&lt;code&gt;template:&lt;/code&gt;éƒ¨åˆ†ä¸­ã€‚&lt;/p&gt;
&lt;p&gt;å½“å‰æ”¯æŒçš„å¤šä¸ªç”Ÿæˆå™¨ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;List ç”Ÿæˆå™¨&lt;/strong&gt;ï¼šåŸºäºå›ºå®šçš„é›†ç¾¤åç§°/URL å€¼åˆ—è¡¨ç”Ÿæˆå‚æ•°ï¼Œå¦‚ä¸Šé¢çš„ç¤ºä¾‹æ‰€ç¤ºã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Cluster ç”Ÿæˆå™¨&lt;/strong&gt;ï¼šè€Œä¸æ˜¯ä¸€ä¸ªå­—é¢çš„é›†ç¾¤åˆ—è¡¨ï¼ˆå¦‚åˆ—è¡¨ç”Ÿæˆå™¨ï¼‰ï¼Œé›†ç¾¤ç”Ÿæˆå™¨æ ¹æ®åœ¨ Argo CD ä¸­å®šä¹‰çš„é›†ç¾¤è‡ªåŠ¨ç”Ÿæˆé›†ç¾¤å‚æ•°ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Git ç”Ÿæˆå™¨&lt;/strong&gt;ï¼šGit ç”Ÿæˆå™¨åŸºäºåŒ…å«åœ¨ç”Ÿæˆå™¨èµ„æºä¸­çš„æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹ç”Ÿæˆå‚æ•°ã€‚ - åŒ…å« JSON å€¼çš„æ–‡ä»¶å°†è¢«è§£æå¹¶è½¬æ¢ä¸ºæ¨¡æ¿å‚æ•°ã€‚ - Git å­˜å‚¨åº“ä¸­çš„å•ä¸ªç›®å½•è·¯å¾„ä¹Ÿå¯ä»¥ç”¨ä½œå‚æ•°å€¼ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Matrix ç”Ÿæˆå™¨&lt;/strong&gt;ï¼šçŸ©é˜µç”Ÿæˆå™¨ç»“åˆäº†ä¸¤ä¸ªå…¶ä»–ç”Ÿæˆå™¨çš„ç”Ÿæˆå‚æ•°ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æœ‰å…³å„ä¸ªç”Ÿæˆå™¨çš„æ›´å¤šä¿¡æ¯ä»¥åŠæœªåˆ—å‡ºçš„å…¶ä»–ç”Ÿæˆå™¨ï¼Œè¯·å‚è§ç”Ÿæˆå™¨éƒ¨åˆ†ã€‚&lt;/p&gt;
&lt;h2 id=&#34;å°†å‚æ•°æ›¿æ¢ä¸ºæ¨¡æ¿&#34;&gt;å°†å‚æ•°æ›¿æ¢ä¸ºæ¨¡æ¿&lt;/h2&gt;
&lt;p&gt;ä¸ç®¡ä½¿ç”¨å“ªä¸ªç”Ÿæˆå™¨ï¼Œç”±ç”Ÿæˆå™¨ç”Ÿæˆçš„å‚æ•°éƒ½ä¼šè¢«æ›¿æ¢ä¸º&lt;code&gt;{{parameter name}}&lt;/code&gt;å€¼ï¼Œè€Œè¿™äº›å€¼ä½äº&lt;code&gt;ApplicationSet&lt;/code&gt;èµ„æºçš„&lt;code&gt;template:&lt;/code&gt;éƒ¨åˆ†ä¸­ã€‚åœ¨æ­¤ç¤ºä¾‹ä¸­ï¼Œåˆ—è¡¨ç”Ÿæˆå™¨å®šä¹‰äº†&lt;code&gt;cluster&lt;/code&gt;å’Œ&lt;code&gt;url&lt;/code&gt;å‚æ•°ï¼Œè¿™äº›å‚æ•°éšååˆ†åˆ«è¢«æ›¿æ¢ä¸ºæ¨¡æ¿çš„&lt;code&gt;{{cluster}}&lt;/code&gt;å’Œ&lt;code&gt;{{url}}&lt;/code&gt;å€¼ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨å°†å‚æ•°æ›¿æ¢åï¼Œå°†æ­¤&lt;code&gt;guestbook&lt;/code&gt; &lt;code&gt;ApplicationSet&lt;/code&gt;èµ„æºåº”ç”¨äº Kubernetes é›†ç¾¤ï¼š&lt;/p&gt;
&lt;p&gt;1.åº”ç”¨ç¨‹åºé›†æ§åˆ¶å™¨å¤„ç†ç”Ÿæˆå™¨æ¡ç›®ï¼Œç”Ÿæˆä¸€ç»„æ¨¡æ¿å‚æ•°ã€‚2.è¿™äº›å‚æ•°è¢«æ›¿æ¢åˆ°æ¨¡æ¿ä¸­ï¼Œæ¯ç»„å‚æ•°æ›¿æ¢ä¸€æ¬¡ã€‚3.æ¯ä¸ªæ¸²æŸ“çš„æ¨¡æ¿éƒ½è¢«è½¬æ¢ä¸ºä¸€ä¸ª Argo CD &lt;code&gt;Application&lt;/code&gt;èµ„æºï¼Œç„¶ååˆ›å»ºï¼ˆæˆ–æ›´æ–°ï¼‰åœ¨ Argo CD åç§°ç©ºé—´ä¸­ã€‚4.æœ€åï¼ŒArgo CD æ§åˆ¶å™¨ä¼šæ”¶åˆ°è¿™äº›&lt;code&gt;Application&lt;/code&gt;èµ„æºçš„é€šçŸ¥ï¼Œå¹¶è´Ÿè´£å¤„ç†å®ƒä»¬ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äºæˆ‘ä»¬çš„ç¤ºä¾‹ä¸­å®šä¹‰çš„ä¸‰ä¸ªä¸åŒé›†ç¾¤â€”â€”&lt;code&gt;engineering-dev&lt;/code&gt;ã€&lt;code&gt;engineering-prod&lt;/code&gt;å’Œ&lt;code&gt;finance-preprod&lt;/code&gt;ï¼Œè¿™å°†äº§ç”Ÿä¸‰ä¸ªæ–°çš„ Argo CD&lt;code&gt;Application&lt;/code&gt;èµ„æºï¼šæ¯ä¸ªé›†ç¾¤ä¸€ä¸ªã€‚&lt;/p&gt;
&lt;p&gt;è¿™æ˜¯å°†åˆ›å»ºçš„&lt;code&gt;Application&lt;/code&gt;èµ„æºä¹‹ä¸€çš„ç¤ºä¾‹ï¼Œä¸º&lt;code&gt;engineering-dev&lt;/code&gt;é›†ç¾¤åœ¨&lt;code&gt;1.2.3.4&lt;/code&gt;å¤„ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nt&#34;&gt;apiVersion&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;argoproj.io/v1alpha1&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;kind&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;Application&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;metadata&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;engineering-dev-guestbook&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;spec&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;source&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;repoURL&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;https://github.com/infra-team/cluster-deployments.git&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;targetRevision&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;HEAD&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;path&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;guestbook/engineering-dev&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;destination&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;server&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;https://1.2.3.4&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;namespace&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;guestbook&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ç”Ÿæˆçš„å€¼å·²è¢«æ›¿æ¢åˆ°æ¨¡æ¿çš„&lt;code&gt;server&lt;/code&gt;å’Œ&lt;code&gt;path&lt;/code&gt;å­—æ®µä¸­ï¼Œæ¨¡æ¿å·²è¢«æ¸²æŸ“æˆä¸€ä¸ªå®Œæ•´çš„ Argo CD åº”ç”¨ç¨‹åºã€‚&lt;/p&gt;
&lt;p&gt;ç°åœ¨è¿™äº› Application ä¹Ÿå¯ä»¥åœ¨ Argo CD UI ä¸­çœ‹åˆ°ï¼š&lt;/p&gt;
&lt;p&gt;















&lt;figure  id=&#34;figure-argocd-web-ui-ä¸­çš„åˆ—è¡¨ç”Ÿæˆå™¨ç¤ºä¾‹&#34;&gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img src=&#34;../../../assets/applicationset/Introduction/List-Example-In-Argo-CD-Web-UI.png&#34; alt=&#34;ArgoCD Web UI ä¸­çš„åˆ—è¡¨ç”Ÿæˆå™¨ç¤ºä¾‹&#34; loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;figcaption&gt;
      ArgoCD Web UI ä¸­çš„åˆ—è¡¨ç”Ÿæˆå™¨ç¤ºä¾‹
    &lt;/figcaption&gt;&lt;/figure&gt;
&lt;/p&gt;
&lt;p&gt;åº”ç”¨ç¨‹åºé›†æ§åˆ¶å™¨å°†ç¡®ä¿å°†å¯¹&lt;code&gt;ApplicationSet&lt;/code&gt;èµ„æºæ‰€åšçš„ä»»ä½•æ›´æ”¹ã€æ›´æ–°æˆ–åˆ é™¤è‡ªåŠ¨åº”ç”¨äºç›¸åº”çš„&lt;code&gt;Application&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;ä¾‹å¦‚ï¼Œå¦‚æœå‘åˆ—è¡¨ç”Ÿæˆå™¨æ·»åŠ äº†æ–°çš„é›†ç¾¤/URL åˆ—è¡¨æ¡ç›®ï¼Œåˆ™å°†ä¸ºæ­¤æ–°é›†ç¾¤ç›¸åº”åœ°åˆ›å»ºä¸€ä¸ªæ–°çš„ Argo CD&lt;code&gt;Application&lt;/code&gt;èµ„æºã€‚å¯¹&lt;code&gt;guestbook&lt;/code&gt; &lt;code&gt;ApplicationSet&lt;/code&gt;èµ„æºæ‰€åšçš„ä»»ä½•ç¼–è¾‘éƒ½å°†å½±å“ç”±è¯¥èµ„æºå®ä¾‹åŒ–çš„æ‰€æœ‰ Argo CD åº”ç”¨ç¨‹åºï¼ŒåŒ…æ‹¬æ–°åº”ç”¨ç¨‹åºã€‚&lt;/p&gt;
&lt;p&gt;è™½ç„¶åˆ—è¡¨ç”Ÿæˆå™¨çš„å­—é¢é›†ç¾¤åˆ—è¡¨ç›¸å½“ç®€å•ï¼Œä½† ApplicationSet æ§åˆ¶å™¨æ”¯æŒå…¶ä»–å¯ç”¨ç”Ÿæˆå™¨çš„æ›´å¤æ‚çš„åœºæ™¯ã€‚&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>ç†è§£åŸºç¡€</title>
      <link>https://lib.jimmysong.io/argo-cd/understand-the-basics/</link>
      <pubDate>Fri, 30 Jun 2023 16:00:00 +0800</pubDate>
      <guid>https://lib.jimmysong.io/argo-cd/understand-the-basics/</guid>
      <description>&lt;p&gt;åœ¨æœ‰æ•ˆä½¿ç”¨ Argo CD ä¹‹å‰ï¼Œæœ‰å¿…è¦äº†è§£è¯¥å¹³å°æ„å»ºçš„åº•å±‚æŠ€æœ¯ã€‚è¿˜æœ‰å¿…è¦äº†è§£å‘ä½ æä¾›çš„åŠŸèƒ½ä»¥åŠå¦‚ä½•ä½¿ç”¨å®ƒä»¬ã€‚ä»¥ä¸‹éƒ¨åˆ†æä¾›äº†ä¸€äº›æœ‰ç”¨çš„é“¾æ¥æ¥å»ºç«‹è¿™ç§ç†è§£ã€‚&lt;/p&gt;
&lt;h2 id=&#34;å­¦ä¹ åŸºç¡€çŸ¥è¯†&#34;&gt;å­¦ä¹ åŸºç¡€çŸ¥è¯†&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;æµè§ˆåœ¨çº¿ Docker å’Œ Kubernetes æ•™ç¨‹ï¼š
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://medium.freecodecamp.org/a-beginner-friendly-introduction-to-containers-vms-and-docker-79a9e3e119b&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;é€‚åˆåˆå­¦è€…çš„å®¹å™¨ã€è™šæ‹Ÿæœºå’Œ Docker ç®€ä»‹&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.edx.org/course/introduction-to-kubernetes&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Kubernetes ç®€ä»‹&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://kubernetes.io/docs/tutorials/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;æ•™ç¨‹&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;æ ¹æ®ä½ è®¡åˆ’å¦‚ä½•æ¨¡æ¿åŒ–ä½ çš„åº”ç”¨ç¨‹åºï¼š
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://kustomize.io/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Kustomize&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://helm.sh/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Helm&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;å¦‚æœä½ è¦ä¸ CI å·¥å…·é›†æˆï¼š
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://docs.github.com/en/actions&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;GitHub Actions æ–‡æ¡£&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.jenkins.io/doc/book/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Jenkins ç”¨æˆ·æŒ‡å—&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
    <item>
      <title>ApplicationSet å…¥é—¨</title>
      <link>https://lib.jimmysong.io/argo-cd/operator-manual/applicationset/getting-started/</link>
      <pubDate>Fri, 30 Jun 2023 16:00:00 +0800</pubDate>
      <guid>https://lib.jimmysong.io/argo-cd/operator-manual/applicationset/getting-started/</guid>
      <description>&lt;p&gt;æœ¬æŒ‡å—å‡å®šä½ å·²ç»ç†Ÿæ‚‰ Argo CD åŠå…¶åŸºæœ¬æ¦‚å¿µã€‚æœ‰å…³æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜… Argo CD æ–‡æ¡£ã€‚&lt;/p&gt;
&lt;h2 id=&#34;è¦æ±‚&#34;&gt;è¦æ±‚&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;å®‰è£… &lt;a href=&#34;https://kubernetes.io/docs/tasks/tools/install-kubectl/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;kubectl&lt;/a&gt; å‘½ä»¤è¡Œå·¥å…·&lt;/li&gt;
&lt;li&gt;æœ‰ä¸€ä¸ª &lt;a href=&#34;https://kubernetes.io/docs/tasks/access-application-cluster/configure-access-multiple-clusters/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;kubeconfig&lt;/a&gt; æ–‡ä»¶ï¼ˆé»˜è®¤ä½ç½®ä¸º &lt;code&gt;~/.kube/config&lt;/code&gt;ï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;å®‰è£…&#34;&gt;å®‰è£…&lt;/h2&gt;
&lt;p&gt;æœ‰å‡ ç§å®‰è£… ApplicationSet æ§åˆ¶å™¨çš„é€‰é¡¹ã€‚&lt;/p&gt;
&lt;h3 id=&#34;a-å°†-applicationset-ä½œä¸º-argo-cd-çš„ä¸€éƒ¨åˆ†å®‰è£…&#34;&gt;A) å°† ApplicationSet ä½œä¸º Argo CD çš„ä¸€éƒ¨åˆ†å®‰è£…&lt;/h3&gt;
&lt;p&gt;ä» Argo CD v2.3 å¼€å§‹ï¼ŒApplicationSet æ§åˆ¶å™¨å·²æ†ç»‘åœ¨ Argo CD ä¸­ã€‚æ— éœ€ä» Argo CD å•ç‹¬å®‰è£… ApplicationSet æ§åˆ¶å™¨ã€‚&lt;/p&gt;
&lt;p&gt;æœ‰å…³æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜… Argo CD &lt;a href=&#34;../../../getting-started/&#34;&gt;å…¥é—¨æŒ‡å—&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;h3 id=&#34;b-å°†-applicationset-å®‰è£…åˆ°ç°æœ‰çš„-argo-cd-å®‰è£…ä¸­argeo-cd-v23-ä¹‹å‰&#34;&gt;B) å°† ApplicationSet å®‰è£…åˆ°ç°æœ‰çš„ Argo CD å®‰è£…ä¸­ï¼ˆArgeo CD v2.3 ä¹‹å‰ï¼‰&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;æ³¨æ„&lt;/strong&gt;: ä»¥ä¸‹è¯´æ˜ä»…é€‚ç”¨äº Argo CD ç‰ˆæœ¬ v2.3.0 ä¹‹å‰ã€‚&lt;/p&gt;
&lt;p&gt;ApplicationSet æ§åˆ¶å™¨ &lt;em&gt;å¿…é¡»&lt;/em&gt; å®‰è£…åˆ°ä¸å…¶æ‰€é’ˆå¯¹çš„ Argo CD ç›¸åŒçš„å‘½åç©ºé—´ä¸­ã€‚&lt;/p&gt;
&lt;p&gt;å‡è®¾ Argo CD å®‰è£…åœ¨ &lt;code&gt;argocd&lt;/code&gt; å‘½åç©ºé—´ä¸­ï¼Œè¯·è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; kubectl apply -n argocd -f https://raw.githubusercontent.com/argoproj/applicationset/v0.4.0/manifests/install.yaml
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å®‰è£…å®Œæˆåï¼ŒApplicationSet æ§åˆ¶å™¨ä¸éœ€è¦è¿›è¡Œå…¶ä»–è®¾ç½®ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;manifests/install.yaml&lt;/code&gt; æ–‡ä»¶åŒ…å«å®‰è£… ApplicationSet æ§åˆ¶å™¨æ‰€éœ€çš„ Kubernetes æ¸…å•ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;ApplicationSet&lt;/code&gt; èµ„æºçš„è‡ªå®šä¹‰èµ„æºå®šä¹‰&lt;/li&gt;
&lt;li&gt;&lt;code&gt;argocd-applicationset-controller&lt;/code&gt; çš„ Deployment&lt;/li&gt;
&lt;li&gt;ä¾› ApplicationSet æ§åˆ¶å™¨ä½¿ç”¨çš„ ServiceAccountï¼Œç”¨äºè®¿é—® Argo CD èµ„æº&lt;/li&gt;
&lt;li&gt;æˆäºˆ ServiceAccount æ‰€éœ€èµ„æºçš„ RBAC è®¿é—®æƒé™çš„ Role&lt;/li&gt;
&lt;li&gt;å°† ServiceAccount å’Œ Role ç»‘å®šçš„ RoleBinding&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;å¯ç”¨é«˜å¯ç”¨æ€§æ¨¡å¼&#34;&gt;å¯ç”¨é«˜å¯ç”¨æ€§æ¨¡å¼&lt;/h2&gt;
&lt;p&gt;è¦å¯ç”¨é«˜å¯ç”¨æ€§ï¼Œå¿…é¡»åœ¨ argocd-applicationset-controller å®¹å™¨ä¸­è®¾ç½®å‘½ä»¤ &lt;code&gt;--enable-leader-election=true&lt;/code&gt; å¹¶å¢åŠ å‰¯æœ¬æ•°ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨ manifests/install.yaml ä¸­æ‰§è¡Œä»¥ä¸‹æ›´æ”¹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;     &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;spec&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;       &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;containers&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;       &lt;/span&gt;- &lt;span class=&#34;nt&#34;&gt;command&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;         &lt;/span&gt;- &lt;span class=&#34;l&#34;&gt;entrypoint.sh&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;         &lt;/span&gt;- &lt;span class=&#34;l&#34;&gt;argocd-applicationset-controller&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;         &lt;/span&gt;- --&lt;span class=&#34;l&#34;&gt;enable-leader-election=true&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;å¯é€‰å‡çº§åçš„é¢å¤–å®‰å…¨ä¿éšœ&#34;&gt;å¯é€‰ï¼šå‡çº§åçš„é¢å¤–å®‰å…¨ä¿éšœ&lt;/h3&gt;
&lt;p&gt;è¯·å‚é˜… æ§åˆ¶èµ„æºä¿®æ”¹ é¡µé¢ï¼Œäº†è§£ä½ å¯èƒ½å¸Œæœ›åœ¨ &lt;code&gt;install.yaml&lt;/code&gt; ä¸­çš„ ApplicationSet Resource ä¸­æ·»åŠ çš„å…¶ä»–å‚æ•°ï¼Œä»¥æä¾›é¢å¤–çš„å®‰å…¨æ€§ï¼Œä»¥é˜²æ­¢ä»»ä½•åˆå§‹æ„å¤–çš„åå‡çº§è¡Œä¸ºã€‚&lt;/p&gt;
&lt;p&gt;ä¾‹å¦‚ï¼Œä¸ºäº†æš‚æ—¶é˜²æ­¢å‡çº§åçš„ ApplicationSet æ§åˆ¶å™¨è¿›è¡Œä»»ä½•æ›´æ”¹ï¼Œä½ å¯ä»¥ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¯ç”¨å¹²è¿è¡Œ&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨ä»…åˆ›å»ºç­–ç•¥&lt;/li&gt;
&lt;li&gt;åœ¨ ApplicationSets ä¸Šå¯ç”¨ &lt;code&gt;preserveResourcesOnDeletion&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;åœ¨ä½ çš„ ApplicationSets æ¨¡æ¿ä¸­æš‚æ—¶ç¦ç”¨è‡ªåŠ¨åŒæ­¥&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è¿™äº›å‚æ•°å°†å…è®¸ä½ è§‚å¯Ÿ/æ§åˆ¶æ–°ç‰ˆæœ¬ ApplicationSet æ§åˆ¶å™¨åœ¨ä½ çš„ç¯å¢ƒä¸­çš„è¡Œä¸ºï¼Œä»¥ç¡®ä¿ä½ å¯¹ç»“æœæ„Ÿåˆ°æ»¡æ„ï¼ˆè¯·å‚é˜… ApplicationSet æ—¥å¿—æ–‡ä»¶ä»¥è·å–è¯¦ç»†ä¿¡æ¯ï¼‰ã€‚åªéœ€ä¸è¦å¿˜è®°åœ¨å®Œæˆæµ‹è¯•ååˆ é™¤ä»»ä½•ä¸´æ—¶æ›´æ”¹ï¼&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯ï¼Œå¦‚ä¸Šæ‰€è¿°ï¼Œè¿™äº›æ­¥éª¤å¹¶ä¸æ˜¯å¿…éœ€çš„ï¼šå‡çº§ ApplicationSet æ§åˆ¶å™¨åº”è¯¥æ˜¯ä¸€é¡¹æœ€å°ä¾µå…¥æ€§çš„è¿‡ç¨‹ï¼Œå¹¶ä¸”è¿™äº›æ­¥éª¤ä»…å»ºè®®ä½œä¸ºé¢å¤–å®‰å…¨æªæ–½ã€‚&lt;/p&gt;
&lt;h2 id=&#34;ä¸‹ä¸€æ­¥&#34;&gt;ä¸‹ä¸€æ­¥&lt;/h2&gt;
&lt;p&gt;ä¸€æ—¦ä½ çš„ ApplicationSet æ§åˆ¶å™¨æ­£å¸¸è¿è¡Œï¼Œè¯·ç»§ç»­é˜…è¯» &lt;a href=&#34;../use-cases/&#34;&gt;ç”¨ä¾‹&lt;/a&gt;ï¼Œäº†è§£æ›´å¤šæ”¯æŒçš„åœºæ™¯ï¼Œæˆ–ç›´æ¥è½¬åˆ° &lt;a href=&#34;../generators/&#34;&gt;ç”Ÿæˆå™¨&lt;/a&gt; æŸ¥çœ‹ç¤ºä¾‹ &lt;code&gt;ApplicationSet&lt;/code&gt; èµ„æºã€‚&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>æ ¸å¿ƒæ¦‚å¿µ</title>
      <link>https://lib.jimmysong.io/argo-cd/core-concepts/</link>
      <pubDate>Fri, 30 Jun 2023 16:00:00 +0800</pubDate>
      <guid>https://lib.jimmysong.io/argo-cd/core-concepts/</guid>
      <description>&lt;p&gt;å‡è®¾ä½ ç†Ÿæ‚‰ Gitã€Dockerã€Kubernetesã€æŒç»­äº¤ä»˜å’Œ GitOps çš„æ ¸å¿ƒæ¦‚å¿µã€‚ä»¥ä¸‹æ˜¯ Argo CD ç‰¹æœ‰çš„ä¸€äº›æ¦‚å¿µï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;åº”ç”¨ç¨‹åº&lt;/strong&gt;ç”±æ¸…å•å®šä¹‰çš„ä¸€ç»„ Kubernetes èµ„æºã€‚è¿™æ˜¯è‡ªå®šä¹‰èµ„æºå®šä¹‰ (CRD)ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åº”ç”¨ç¨‹åºæºç±»å‹&lt;/strong&gt;ä½¿ç”¨å“ªä¸ª&lt;strong&gt;å·¥å…·æ¥æ„å»ºåº”ç”¨ç¨‹åºã€‚&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç›®æ ‡çŠ¶æ€&lt;/strong&gt;åº”ç”¨ç¨‹åºçš„æ‰€éœ€çŠ¶æ€ï¼Œç”± Git å­˜å‚¨åº“ä¸­çš„æ–‡ä»¶è¡¨ç¤ºã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å®æ—¶çŠ¶æ€&lt;/strong&gt;è¯¥åº”ç”¨ç¨‹åºçš„å®æ—¶çŠ¶æ€ã€‚éƒ¨ç½²äº†å“ªäº› pod ç­‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åŒæ­¥çŠ¶æ€&lt;/strong&gt;å®æ—¶çŠ¶æ€æ˜¯å¦ä¸ç›®æ ‡çŠ¶æ€åŒ¹é…ã€‚éƒ¨ç½²çš„åº”ç”¨ç¨‹åºæ˜¯å¦ä¸ Git æ‰€è¯´çš„ä¸€æ ·ï¼Ÿ&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åŒæ­¥&lt;/strong&gt;ä½¿åº”ç”¨ç¨‹åºç§»åŠ¨åˆ°å…¶ç›®æ ‡çŠ¶æ€çš„è¿‡ç¨‹ã€‚ä¾‹å¦‚ï¼Œé€šè¿‡å°†æ›´æ”¹åº”ç”¨åˆ° Kubernetes é›†ç¾¤ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åŒæ­¥æ“ä½œçŠ¶æ€&lt;/strong&gt;åŒæ­¥æ˜¯å¦æˆåŠŸã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åˆ·æ–°&lt;/strong&gt;å°† Git ä¸­çš„æœ€æ–°ä»£ç ä¸å®æ—¶çŠ¶æ€è¿›è¡Œæ¯”è¾ƒã€‚å¼„æ¸…æ¥šæœ‰ä»€ä¹ˆä¸åŒã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å¥åº·&lt;/strong&gt;åº”ç”¨ç¨‹åºçš„å¥åº·çŠ¶å†µï¼Œæ˜¯å¦æ­£å¸¸è¿è¡Œï¼Ÿå®ƒå¯ä»¥æ»¡è¶³è¯·æ±‚å—ï¼Ÿ&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å·¥å…·&lt;/strong&gt;ä»æ–‡ä»¶ç›®å½•åˆ›å»ºæ¸…å•çš„å·¥å…·ã€‚ä¾‹å¦‚å®šåˆ¶ã€‚è¯·å‚é˜…&lt;strong&gt;åº”ç”¨ç¨‹åºæºç±»å‹&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;é…ç½®ç®¡ç†å·¥å…·&lt;/strong&gt;è¯·å‚é˜…&lt;strong&gt;å·¥å…·&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;é…ç½®ç®¡ç†æ’ä»¶&lt;/strong&gt;è‡ªå®šä¹‰å·¥å…·ã€‚&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
    <item>
      <title>ApplicationSet æ§åˆ¶å™¨ç”¨ä¾‹</title>
      <link>https://lib.jimmysong.io/argo-cd/operator-manual/applicationset/use-cases/</link>
      <pubDate>Fri, 30 Jun 2023 16:00:00 +0800</pubDate>
      <guid>https://lib.jimmysong.io/argo-cd/operator-manual/applicationset/use-cases/</guid>
      <description>&lt;p&gt;ä½¿ç”¨ç”Ÿæˆå™¨çš„æ¦‚å¿µï¼Œåº”ç”¨é›†æ§åˆ¶å™¨æä¾›äº†ä¸€ç»„å¼ºå¤§çš„å·¥å…·ï¼Œç”¨äºè‡ªåŠ¨åŒ–æ¨¡æ¿åŒ–å’Œä¿®æ”¹ Argo CD åº”ç”¨ç¨‹åºã€‚ç”Ÿæˆå™¨ä»å„ç§æ¥æºï¼ˆåŒ…æ‹¬ Argo CD é›†ç¾¤å’Œ Git å­˜å‚¨åº“ï¼‰ç”Ÿæˆæ¨¡æ¿å‚æ•°æ•°æ®ï¼Œæ”¯æŒå’Œå¯ç”¨æ–°çš„ç”¨ä¾‹ã€‚&lt;/p&gt;
&lt;p&gt;è™½ç„¶å¯ä»¥å°†è¿™äº›å·¥å…·ç”¨äºä»»ä½•ç›®çš„ï¼Œä½†è¿™é‡Œæ˜¯åº”ç”¨é›†æ§åˆ¶å™¨æ—¨åœ¨æ”¯æŒçš„ä¸€äº›ç‰¹å®šç”¨ä¾‹ã€‚&lt;/p&gt;
&lt;h2 id=&#34;ç”¨ä¾‹é›†ç¾¤é™„åŠ ç»„ä»¶&#34;&gt;ç”¨ä¾‹ï¼šé›†ç¾¤é™„åŠ ç»„ä»¶&lt;/h2&gt;
&lt;p&gt;åº”ç”¨é›†æ§åˆ¶å™¨çš„åˆå§‹è®¾è®¡é‡ç‚¹æ˜¯å…è®¸åŸºç¡€æ¶æ„å›¢é˜Ÿçš„ Kubernetes é›†ç¾¤ç®¡ç†å‘˜è‡ªåŠ¨åˆ›å»ºå¤§é‡ä¸åŒçš„ Argo CD åº”ç”¨ç¨‹åºï¼Œè·¨å¤šä¸ªé›†ç¾¤ï¼Œå¹¶å°†è¿™äº›åº”ç”¨ç¨‹åºä½œä¸ºå•ä¸ªå•å…ƒè¿›è¡Œç®¡ç†ã€‚ &lt;em&gt;é›†ç¾¤é™„åŠ ç»„ä»¶ç”¨ä¾‹&lt;/em&gt; å°±æ˜¯å…¶ä¸­ä¸€ä¸ªä¾‹å­ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨ &lt;em&gt;é›†ç¾¤é™„åŠ ç»„ä»¶ç”¨ä¾‹&lt;/em&gt; ä¸­ï¼Œç®¡ç†å‘˜è´Ÿè´£ä¸ºä¸€ä¸ªæˆ–å¤šä¸ª Kubernetes é›†ç¾¤é…ç½®é›†ç¾¤é™„åŠ ç»„ä»¶ï¼šé›†ç¾¤é™„åŠ ç»„ä»¶æ˜¯ Operatorï¼Œä¾‹å¦‚ &lt;a href=&#34;https://github.com/prometheus-operator/prometheus-operator&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Prometheus  Operator&lt;/a&gt; æˆ–æ§åˆ¶å™¨ï¼Œä¾‹å¦‚ &lt;a href=&#34;https://argoproj.github.io/argo-workflows/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;argo-workflows æ§åˆ¶å™¨&lt;/a&gt;ï¼ˆ&lt;a href=&#34;https://argoproj.github.io/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Argo ç”Ÿæ€ç³»ç»Ÿ&lt;/a&gt;çš„ä¸€éƒ¨åˆ†ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;é€šå¸¸ï¼Œè¿™äº›é™„åŠ ç»„ä»¶æ˜¯å¼€å‘å›¢é˜Ÿçš„åº”ç”¨ç¨‹åºæ‰€éœ€çš„ï¼ˆä¾‹å¦‚ä½œä¸ºå¤šç§Ÿæˆ·é›†ç¾¤çš„ç§Ÿæˆ·ï¼Œä»–ä»¬å¯èƒ½å¸Œæœ›å‘ Prometheus æä¾›åº¦é‡æ•°æ®æˆ–é€šè¿‡ Argo Workflows ç¼–æ’å·¥ä½œæµç¨‹ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;ç”±äºå®‰è£…è¿™äº›æ’ä»¶éœ€è¦é›†ç¾¤çº§åˆ«çš„æƒé™ï¼Œè€Œè¿™äº›æƒé™ä¸è¢«å•ä¸ªå¼€å‘å›¢é˜ŸæŒæœ‰ï¼Œå› æ­¤å®‰è£…æ˜¯ç»„ç»‡çš„åŸºç¡€æ¶æ„/è¿è¥å›¢é˜Ÿçš„è´£ä»»ï¼Œåœ¨å¤§å‹ç»„ç»‡å†…ï¼Œè¿™ä¸ªå›¢é˜Ÿå¯èƒ½è´Ÿè´£æ•°åã€æ•°ç™¾æˆ–æ•°åƒä¸ª Kubernetes é›†ç¾¤ï¼ˆæ–°é›†ç¾¤å®šæœŸæ·»åŠ /ä¿®æ”¹/åˆ é™¤ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;éœ€è¦åœ¨å¤§é‡é›†ç¾¤ä¸Šæ‰©å±•ï¼Œå¹¶è‡ªåŠ¨å“åº”æ–°é›†ç¾¤çš„ç”Ÿå‘½å‘¨æœŸï¼Œè¿™å¿…ç„¶éœ€è¦æŸç§å½¢å¼çš„è‡ªåŠ¨åŒ–ã€‚è¿›ä¸€æ­¥çš„è¦æ±‚æ˜¯å…è®¸ä½¿ç”¨ç‰¹å®šæ ‡å‡†ï¼ˆä¾‹å¦‚ï¼Œstaging vs productionï¼‰å°†é™„åŠ ç»„ä»¶é’ˆå¯¹å­é›†ç¾¤è¿›è¡Œå®šä½ã€‚&lt;/p&gt;
&lt;p&gt;















&lt;figure  id=&#34;figure-é›†ç¾¤é™„åŠ ç»„ä»¶å›¾&#34;&gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img src=&#34;../../../assets/applicationset/Use-Cases/Cluster-Add-Ons.png&#34; alt=&#34;é›†ç¾¤é™„åŠ ç»„ä»¶å›¾&#34; loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;figcaption&gt;
      é›†ç¾¤é™„åŠ ç»„ä»¶å›¾
    &lt;/figcaption&gt;&lt;/figure&gt;
&lt;/p&gt;
&lt;p&gt;åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼ŒåŸºç¡€æ¶æ„å›¢é˜Ÿç»´æŠ¤ä¸€ä¸ªåŒ…å« Argo Workflows æ§åˆ¶å™¨å’Œ Prometheus  Operator åº”ç”¨ç¨‹åºæ¸…å•çš„ Git å­˜å‚¨åº“ã€‚&lt;/p&gt;
&lt;p&gt;åŸºç¡€æ¶æ„å›¢é˜Ÿå¸Œæœ›ä½¿ç”¨ Argo CD å°†è¿™ä¸¤ä¸ªæ’ä»¶éƒ¨ç½²åˆ°å¤§é‡é›†ç¾¤ï¼Œå¹¶å¸Œæœ›è½»æ¾ç®¡ç†æ–°é›†ç¾¤çš„åˆ›å»º/åˆ é™¤ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨è¿™ä¸ªç”¨ä¾‹ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨åº”ç”¨é›†æ§åˆ¶å™¨çš„ Listã€Cluster æˆ– Git ç”Ÿæˆå™¨ä¸­çš„ä»»ä¸€ä¸ªæ¥æä¾›æ‰€éœ€çš„è¡Œä¸ºï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;List ç”Ÿæˆå™¨ï¼šç®¡ç†å‘˜ç»´æŠ¤ä¸¤ä¸ª &lt;code&gt;ApplicationSet&lt;/code&gt; èµ„æºï¼Œæ¯ä¸ªåº”ç”¨ç¨‹åºï¼ˆå·¥ä½œæµå’Œ Prometheusï¼‰éƒ½åŒ…å«å®ƒä»¬å¸Œæœ›åœ¨ List ç”Ÿæˆå™¨å…ƒç´ ä¸­å®šä½çš„é›†ç¾¤åˆ—è¡¨ã€‚
&lt;ul&gt;
&lt;li&gt;åœ¨è¯¥ç”Ÿæˆå™¨ä¸­ï¼Œæ·»åŠ /åˆ é™¤é›†ç¾¤éœ€è¦æ‰‹åŠ¨æ›´æ–° &lt;code&gt;ApplicationSet&lt;/code&gt; èµ„æºçš„åˆ—è¡¨å…ƒç´ ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Cluster ç”Ÿæˆå™¨ï¼šç®¡ç†å‘˜ç»´æŠ¤ä¸¤ä¸ª &lt;code&gt;ApplicationSet&lt;/code&gt;  èµ„æºï¼Œæ¯ä¸ªåº”ç”¨ç¨‹åºï¼ˆå·¥ä½œæµå’Œ Prometheusï¼‰éƒ½ç¡®ä¿åœ¨ Argo CD ä¸­å®šä¹‰æ‰€æœ‰æ–°é›†ç¾¤ã€‚
&lt;ul&gt;
&lt;li&gt;ç”±äº Cluster ç”Ÿæˆå™¨è‡ªåŠ¨æ£€æµ‹å¹¶é’ˆå¯¹ Argo CD ä¸­å®šä¹‰çš„é›†ç¾¤ï¼Œæ·»åŠ /åˆ é™¤ Argo CD ä¸­çš„é›†ç¾¤ å°†è‡ªåŠ¨å¯¼è‡´åº”ç”¨é›†æ§åˆ¶å™¨åˆ›å»º Application èµ„æºï¼ˆæ¯ä¸ªåº”ç”¨ç¨‹åºï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Git ç”Ÿæˆå™¨ï¼šGit ç”Ÿæˆå™¨æ˜¯ç”Ÿæˆå™¨ä¸­æœ€çµæ´»/æœ€å¼ºå¤§çš„ï¼Œå› æ­¤æœ‰å¤šç§ä¸åŒçš„æ–¹æ³•æ¥å¤„ç†æ­¤ç”¨ä¾‹ã€‚ä»¥ä¸‹æ˜¯å…¶ä¸­çš„å‡ ä¸ªï¼š
&lt;ul&gt;
&lt;li&gt;ä½¿ç”¨ Git ç”Ÿæˆå™¨çš„ &lt;code&gt;files&lt;/code&gt; å­—æ®µï¼šå°†é›†ç¾¤åˆ—è¡¨ä½œä¸º JSON æ–‡ä»¶ä¿å­˜åœ¨ Git å­˜å‚¨åº“ä¸­ã€‚é€šè¿‡ Git æäº¤æ›´æ–° JSON æ–‡ä»¶ï¼Œä¼šå¯¼è‡´æ·»åŠ /åˆ é™¤æ–°é›†ç¾¤ã€‚&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨ Git ç”Ÿæˆå™¨çš„ &lt;code&gt;directories&lt;/code&gt; å­—æ®µï¼šå¯¹äºæ¯ä¸ªç›®æ ‡é›†ç¾¤ï¼Œéƒ½åœ¨ Git å­˜å‚¨åº“ä¸­å­˜åœ¨ä¸€ä¸ªå¯¹åº”çš„åŒåç›®å½•ã€‚é€šè¿‡ Git æäº¤æ·»åŠ /ä¿®æ”¹ç›®å½•ï¼Œå°†è§¦å‘å…±äº«ç›®å½•åç§°çš„é›†ç¾¤çš„æ›´æ–°ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æœ‰å…³æ¯ä¸ªç”Ÿæˆå™¨çš„è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚è§ &lt;a href=&#34;../generator/&#34;&gt;ç”Ÿæˆå™¨éƒ¨åˆ†&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;h2 id=&#34;ç”¨ä¾‹å•ä½“åº“&#34;&gt;ç”¨ä¾‹ï¼šå•ä½“åº“&lt;/h2&gt;
&lt;p&gt;åœ¨ &lt;em&gt;å•ä½“åº“ç”¨ä¾‹&lt;/em&gt; ä¸­ï¼ŒKubernetes é›†ç¾¤ç®¡ç†å‘˜ä»å•ä¸ª Git å­˜å‚¨åº“ç®¡ç†å•ä¸ª Kubernetes é›†ç¾¤çš„æ•´ä¸ªçŠ¶æ€ã€‚&lt;/p&gt;
&lt;p&gt;åˆå¹¶åˆ° Git å­˜å‚¨åº“çš„æ¸…å•æ›´æ”¹åº”è‡ªåŠ¨éƒ¨ç½²åˆ°é›†ç¾¤ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼ŒåŸºç¡€æ¶æ„å›¢é˜Ÿç»´æŠ¤ä¸€ä¸ªåŒ…å« Argo Workflows æ§åˆ¶å™¨å’Œ Prometheus  Operator åº”ç”¨ç¨‹åºæ¸…å•çš„ Git å­˜å‚¨åº“ã€‚ç‹¬ç«‹çš„å¼€å‘å›¢é˜Ÿè¿˜æ·»åŠ äº†ä»–ä»¬å¸Œæœ›éƒ¨ç½²åˆ°é›†ç¾¤çš„å…¶ä»–æœåŠ¡ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹ Git ç”Ÿæˆå™¨å¯èƒ½ç”¨äºæ”¯æŒæ­¤ç”¨ä¾‹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Git ç”Ÿæˆå™¨çš„ &lt;code&gt;directories&lt;/code&gt; å­—æ®µå¯ç”¨äºæŒ‡å®šåŒ…å«è¦éƒ¨ç½²çš„å„ä¸ªåº”ç”¨ç¨‹åºçš„ç‰¹å®šå­ç›®å½•ï¼ˆä½¿ç”¨é€šé…ç¬¦ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;Git ç”Ÿæˆå™¨çš„ &lt;code&gt;files&lt;/code&gt; å­—æ®µå¯ä»¥å¼•ç”¨åŒ…å« JSON å…ƒæ•°æ®çš„ Git å­˜å‚¨åº“æ–‡ä»¶ï¼Œè¯¥å…ƒæ•°æ®æè¿°è¦éƒ¨ç½²çš„å„ä¸ªåº”ç”¨ç¨‹åºã€‚&lt;/li&gt;
&lt;li&gt;æ›´å¤šè¯¦æƒ…è¯·å‚è§ Git ç”Ÿæˆå™¨æ–‡æ¡£ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;ç”¨ä¾‹å¤šç§Ÿæˆ·é›†ç¾¤ä¸Šçš„-argo-cd-åº”ç”¨ç¨‹åºè‡ªåŠ©æœåŠ¡&#34;&gt;ç”¨ä¾‹ï¼šå¤šç§Ÿæˆ·é›†ç¾¤ä¸Šçš„ Argo CD åº”ç”¨ç¨‹åºè‡ªåŠ©æœåŠ¡&lt;/h2&gt;
&lt;p&gt;&lt;em&gt;è‡ªåŠ©æœåŠ¡ç”¨ä¾‹&lt;/em&gt; æ—¨åœ¨å…è®¸å¼€å‘äººå‘˜ï¼ˆä½œä¸ºå¤šç§Ÿæˆ· Kubernetes é›†ç¾¤çš„æœ€ç»ˆç”¨æˆ·ï¼‰ä»¥è‡ªåŠ¨åŒ–æ–¹å¼æ›´çµæ´»åœ°æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä½¿ç”¨ Argo CD å°†å¤šä¸ªåº”ç”¨ç¨‹åºéƒ¨ç½²åˆ°å•ä¸ªé›†ç¾¤&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨ Argo CD è‡ªåŠ¨åŒ–åœ°éƒ¨ç½²åˆ°å¤šä¸ªé›†ç¾¤&lt;/li&gt;
&lt;li&gt;ä½†åœ¨è¿™ä¸¤ç§æƒ…å†µä¸‹ï¼Œä½¿å¼€å‘äººå‘˜èƒ½å¤Ÿåœ¨ä¸éœ€è¦æ¶‰åŠé›†ç¾¤ç®¡ç†å‘˜çš„æƒ…å†µä¸‹æ‰§è¡Œæ­¤æ“ä½œï¼ˆä»¥ä»£è¡¨ä»–ä»¬åˆ›å»ºæ‰€éœ€çš„ Argo CD åº”ç”¨ç¨‹åº/AppProject èµ„æºï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è¿™ä¸ªç”¨ä¾‹çš„ä¸€ä¸ªæ½œåœ¨è§£å†³æ–¹æ¡ˆæ˜¯ï¼Œå¼€å‘å›¢é˜Ÿåœ¨ Git å­˜å‚¨åº“ä¸­å®šä¹‰ Argo CD &lt;code&gt;Application&lt;/code&gt; èµ„æºï¼ˆåŒ…å«ä»–ä»¬å¸Œæœ›éƒ¨ç½²çš„æ¸…å•ï¼‰ï¼Œåœ¨ &lt;a href=&#34;../../cluster-bootstrapping/#app-of-apps-pattern&#34;&gt;app-of-apps æ¨¡å¼&lt;/a&gt; ä¸­ï¼Œå¹¶ä¸”é›†ç¾¤ç®¡ç†å‘˜é€šè¿‡åˆå¹¶è¯·æ±‚å®¡æŸ¥/æ¥å—å¯¹æ­¤å­˜å‚¨åº“çš„æ›´æ”¹ã€‚&lt;/p&gt;
&lt;p&gt;è™½ç„¶è¿™å¬èµ·æ¥åƒæ˜¯ä¸€ç§æœ‰æ•ˆçš„è§£å†³æ–¹æ¡ˆï¼Œä½†ä¸€ä¸ªä¸»è¦çš„åŠ£åŠ¿æ˜¯éœ€è¦é«˜åº¦çš„ä¿¡ä»»/å®¡æŸ¥æ¥æ¥å—åŒ…å« Argo CD &lt;code&gt;Application&lt;/code&gt; è§„èŒƒæ›´æ”¹çš„æäº¤ã€‚è¿™æ˜¯å› ä¸º &lt;code&gt;Application&lt;/code&gt; è§„èŒƒä¸­åŒ…å«è®¸å¤šæ•æ„Ÿå­—æ®µï¼ŒåŒ…æ‹¬ &lt;code&gt;project&lt;/code&gt;ã€&lt;code&gt;cluster&lt;/code&gt; å’Œ &lt;code&gt;namespace&lt;/code&gt;ã€‚æ„å¤–åˆå¹¶å¯èƒ½ä¼šå…è®¸åº”ç”¨ç¨‹åºè®¿é—®å…¶ä¸å±äºçš„å‘½åç©ºé—´/é›†ç¾¤ã€‚&lt;/p&gt;
&lt;p&gt;å› æ­¤ï¼Œåœ¨è‡ªåŠ©æœåŠ¡ç”¨ä¾‹ä¸­ï¼Œç®¡ç†å‘˜å¸Œæœ›ä»…å…è®¸å¼€å‘äººå‘˜æ§åˆ¶ &lt;code&gt;Application&lt;/code&gt; è§„èŒƒçš„æŸäº›å­—æ®µï¼ˆä¾‹å¦‚ Git æºå­˜å‚¨åº“ï¼‰ï¼Œä½†ä¸å…è®¸æ§åˆ¶å…¶ä»–å­—æ®µï¼ˆä¾‹å¦‚ç›®æ ‡å‘½åç©ºé—´æˆ–ç›®æ ‡é›†ç¾¤åº”å—åˆ°é™åˆ¶ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;å¹¸è¿çš„æ˜¯ï¼Œåº”ç”¨é›†æ§åˆ¶å™¨æä¾›äº†å¦ä¸€ç§è§£å†³æ–¹æ¡ˆï¼šé›†ç¾¤ç®¡ç†å‘˜å¯ä»¥å®‰å…¨åœ°åˆ›å»ºåŒ…å« Git ç”Ÿæˆå™¨çš„ &lt;code&gt;ApplicationSet&lt;/code&gt; èµ„æºï¼Œè¯¥ç”Ÿæˆå™¨ä½¿ç”¨ &lt;code&gt;template&lt;/code&gt; å­—æ®µå°†åº”ç”¨ç¨‹åºèµ„æºçš„éƒ¨ç½²é™åˆ¶ä¸ºå›ºå®šå€¼ï¼ŒåŒæ—¶å…è®¸å¼€å‘äººå‘˜éšæ„è‡ªå®šä¹‰ &amp;lsquo;safe&amp;rsquo; å­—æ®µã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;kind&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;ApplicationSet&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;# (...)&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;spec&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;   &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;generators&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;   &lt;/span&gt;- &lt;span class=&#34;nt&#34;&gt;git&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;       &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;repoURL&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;&amp;lt;https://github.com/argoproj/argo-cd.git&amp;gt;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;       &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;files&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;       &lt;/span&gt;- &lt;span class=&#34;nt&#34;&gt;path&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;apps/**/config.json&amp;#34;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;   &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;template&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;     &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;spec&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;       &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;project&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;dev-team-one&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;# é¡¹ç›®å—åˆ°é™åˆ¶&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;       &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;source&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;         &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;# å¼€å‘äººå‘˜å¯ä»¥ä½¿ç”¨ä¸Šè¿° repo URL ä¸­çš„ JSON æ–‡ä»¶è‡ªå®šä¹‰åº”ç”¨ç¨‹åºè¯¦ç»†ä¿¡æ¯&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;         &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;repoURL&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;{{&lt;span class=&#34;l&#34;&gt;app.source}}&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;         &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;targetRevision&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;{{&lt;span class=&#34;l&#34;&gt;app.revision}}&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;         &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;path&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;{{&lt;span class=&#34;l&#34;&gt;app.path}}&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;       &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;destination&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;         &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;production-cluster&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;# é›†ç¾¤å—åˆ°é™åˆ¶&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;         &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;namespace&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;dev-team-one&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;# å‘½åç©ºé—´å—åˆ°é™åˆ¶&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æœ‰å…³æ›´å¤šè¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚è§ &lt;a href=&#34;../generators-git/&#34;&gt;Git ç”Ÿæˆå™¨&lt;/a&gt;ã€‚&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>å®‰è£…</title>
      <link>https://lib.jimmysong.io/argo-cd/cli-installation/</link>
      <pubDate>Fri, 30 Jun 2023 16:00:00 +0800</pubDate>
      <guid>https://lib.jimmysong.io/argo-cd/cli-installation/</guid>
      <description>&lt;p&gt;ä½ å¯ä»¥ä»æ­¤å­˜å‚¨åº“çš„&lt;a href=&#34;https://github.com/argoproj/argo-cd/releases/latest&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;æœ€æ–°å‘å¸ƒé¡µé¢&lt;/a&gt;ä¸‹è½½æœ€æ–°çš„ Argo CD ç‰ˆæœ¬ï¼Œå…¶ä¸­å°†åŒ…å«&lt;code&gt;argocd&lt;/code&gt; CLIã€‚&lt;/p&gt;
&lt;h2 id=&#34;linux-å’Œ-wsl&#34;&gt;Linux å’Œ WSL&lt;/h2&gt;
&lt;h3 id=&#34;archlinux&#34;&gt;ArchLinux&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;pacman -S argocd
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;homebrew&#34;&gt;Homebrew&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;brew install argocd
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;ä½¿ç”¨-curl-ä¸‹è½½&#34;&gt;ä½¿ç”¨ curl ä¸‹è½½&lt;/h3&gt;
&lt;h4 id=&#34;ä¸‹è½½æœ€æ–°ç‰ˆæœ¬&#34;&gt;ä¸‹è½½æœ€æ–°ç‰ˆæœ¬&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;curl -sSL -o argocd-linux-amd64 https://github.com/argoproj/argo-cd/releases/latest/download/argocd-linux-amd64
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo install -m &lt;span class=&#34;m&#34;&gt;555&lt;/span&gt; argocd-linux-amd64 /usr/local/bin/argocd
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;rm argocd-linux-amd64
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;ä¸‹è½½å…·ä½“ç‰ˆæœ¬&#34;&gt;ä¸‹è½½å…·ä½“ç‰ˆæœ¬&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;VERSION&lt;/code&gt;å°†ä»¥ä¸‹å‘½ä»¤ä¸­çš„æ›¿æ¢è®¾ç½®&lt;code&gt;&amp;lt;TAG&amp;gt;&lt;/code&gt;ä¸ºä½ è¦ä¸‹è½½çš„ Argo CD ç‰ˆæœ¬ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;VERSION&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&amp;lt;TAG&amp;gt; &lt;span class=&#34;c1&#34;&gt;# Select desired TAG from https://github.com/argoproj/argo-cd/releases&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;curl -sSL -o argocd-linux-amd64 https://github.com/argoproj/argo-cd/releases/download/&lt;span class=&#34;nv&#34;&gt;$VERSION&lt;/span&gt;/argocd-linux-amd64
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo install -m &lt;span class=&#34;m&#34;&gt;555&lt;/span&gt; argocd-linux-amd64 /usr/local/bin/argocd
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;rm argocd-linux-amd64
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä½ ç°åœ¨åº”è¯¥èƒ½å¤Ÿè¿è¡Œ&lt;code&gt;argocd&lt;/code&gt;å‘½ä»¤ã€‚&lt;/p&gt;
&lt;h2 id=&#34;mac-m1&#34;&gt;Mac (M1)&lt;/h2&gt;
&lt;h3 id=&#34;ä½¿ç”¨-curl-ä¸‹è½½-1&#34;&gt;ä½¿ç”¨ curl ä¸‹è½½&lt;/h3&gt;
&lt;p&gt;ä½ å¯ä»¥åœ¨ä¸Šé¢çš„é“¾æ¥æŸ¥çœ‹æœ€æ–°ç‰ˆæœ¬çš„ Argo CD æˆ–è¿è¡Œä»¥ä¸‹å‘½ä»¤æ¥è·å–ç‰ˆæœ¬ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;VERSION&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;$(&lt;/span&gt;curl --silent &lt;span class=&#34;s2&#34;&gt;&amp;#34;https://api.github.com/repos/argoproj/argo-cd/releases/latest&amp;#34;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; grep &lt;span class=&#34;s1&#34;&gt;&amp;#39;&amp;#34;tag_name&amp;#34;&amp;#39;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; sed -E &lt;span class=&#34;s1&#34;&gt;&amp;#39;s/.*&amp;#34;([^&amp;#34;]+)&amp;#34;.*/\1/&amp;#39;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å°†ä»¥ä¸‹å‘½ä»¤æ›¿æ¢&lt;code&gt;VERSION&lt;/code&gt;ä¸ºä½ è¦ä¸‹è½½çš„ Argo CD ç‰ˆæœ¬ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;curl -sSL -o argocd-darwin-arm64 https://github.com/argoproj/argo-cd/releases/download/&lt;span class=&#34;nv&#34;&gt;$VERSION&lt;/span&gt;/argocd-darwin-arm64
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å®‰è£… Argo CD CLI äºŒè¿›åˆ¶æ–‡ä»¶ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo install -m &lt;span class=&#34;m&#34;&gt;555&lt;/span&gt; argocd-darwin-arm64 /usr/local/bin/argocd
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;rm argocd-darwin-arm64
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;mac&#34;&gt;Mac&lt;/h2&gt;
&lt;h3 id=&#34;homebrew-1&#34;&gt;Homebrew&lt;/h3&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;brew install argocd
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;ä½¿ç”¨-curl-ä¸‹è½½-2&#34;&gt;ä½¿ç”¨ curl ä¸‹è½½&lt;/h3&gt;
&lt;p&gt;ä½ å¯ä»¥åœ¨ä¸Šé¢çš„é“¾æ¥æŸ¥çœ‹æœ€æ–°ç‰ˆæœ¬çš„ Argo CD æˆ–è¿è¡Œä»¥ä¸‹å‘½ä»¤æ¥è·å–ç‰ˆæœ¬ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;VERSION&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;$(&lt;/span&gt;curl --silent &lt;span class=&#34;s2&#34;&gt;&amp;#34;https://api.github.com/repos/argoproj/argo-cd/releases/latest&amp;#34;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; grep &lt;span class=&#34;s1&#34;&gt;&amp;#39;&amp;#34;tag_name&amp;#34;&amp;#39;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; sed -E &lt;span class=&#34;s1&#34;&gt;&amp;#39;s/.*&amp;#34;([^&amp;#34;]+)&amp;#34;.*/\1/&amp;#39;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å°†ä»¥ä¸‹å‘½ä»¤æ›¿æ¢&lt;code&gt;VERSION&lt;/code&gt;ä¸ºä½ è¦ä¸‹è½½çš„ Argo CD ç‰ˆæœ¬ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;curl -sSL -o argocd-darwin-amd64 https://github.com/argoproj/argo-cd/releases/download/&lt;span class=&#34;nv&#34;&gt;$VERSION&lt;/span&gt;/argocd-darwin-amd64
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å®‰è£… Argo CD CLI äºŒè¿›åˆ¶æ–‡ä»¶ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo install -m &lt;span class=&#34;m&#34;&gt;555&lt;/span&gt; argocd-darwin-amd64 /usr/local/bin/argocd
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;rm argocd-darwin-amd64
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å®Œæˆä¸Šè¿°ä»»ä¸€è¯´æ˜åï¼Œä½ ç°åœ¨åº”è¯¥èƒ½å¤Ÿè¿è¡Œ&lt;code&gt;argocd&lt;/code&gt;å‘½ä»¤ã€‚&lt;/p&gt;
&lt;h2 id=&#34;windows&#34;&gt;Windows&lt;/h2&gt;
&lt;h3 id=&#34;ä½¿ç”¨-powershell-ä¸‹è½½invoke-webrequest&#34;&gt;ä½¿ç”¨ PowerShell ä¸‹è½½ï¼šInvoke-WebRequest&lt;/h3&gt;
&lt;p&gt;ä½ å¯ä»¥åœ¨ä¸Šé¢çš„é“¾æ¥æŸ¥çœ‹æœ€æ–°ç‰ˆæœ¬çš„ Argo CD æˆ–è¿è¡Œä»¥ä¸‹å‘½ä»¤æ¥è·å–ç‰ˆæœ¬ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;$version = (Invoke-RestMethod https://api.github.com/repos/argoproj/argo-cd/releases/latest).tag_name
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;å°†ä»¥ä¸‹å‘½ä»¤æ›¿æ¢&lt;code&gt;$version&lt;/code&gt;ä¸ºä½ è¦ä¸‹è½½çš„ Argo CD ç‰ˆæœ¬ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;$url&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;https://github.com/argoproj/argo-cd/releases/download/&amp;#34;&lt;/span&gt; + &lt;span class=&#34;nv&#34;&gt;$version&lt;/span&gt; + &lt;span class=&#34;s2&#34;&gt;&amp;#34;/argocd-windows-amd64.exe&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;$output&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;argocd.exe&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Invoke-WebRequest -Uri &lt;span class=&#34;nv&#34;&gt;$url&lt;/span&gt; -OutFile &lt;span class=&#34;nv&#34;&gt;$output&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å¦è¯·æ³¨æ„ï¼Œä½ å¯èƒ½éœ€è¦å°†è¯¥æ–‡ä»¶ç§»è‡³ä½ çš„ PATH ä¸­ã€‚&lt;/p&gt;
&lt;p&gt;å®Œæˆä¸Šè¿°è¯´æ˜åï¼Œä½ ç°åœ¨åº”è¯¥èƒ½å¤Ÿè¿è¡Œ&lt;code&gt;argocd&lt;/code&gt;å‘½ä»¤ã€‚&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>å…¥é—¨</title>
      <link>https://lib.jimmysong.io/argo-cd/getting-started/</link>
      <pubDate>Fri, 30 Jun 2023 16:00:00 +0800</pubDate>
      <guid>https://lib.jimmysong.io/argo-cd/getting-started/</guid>
      <description>&lt;p&gt;ğŸ”” æç¤ºï¼šæœ¬æŒ‡å—å‡è®¾ä½ å¯¹ Argo CD æ‰€åŸºäºçš„å·¥å…·æœ‰ä¸€å®šçš„äº†è§£ã€‚è¯·é˜…è¯»&lt;a href=&#34;../understand-the-basics/&#34;&gt;äº†è§£åŸºç¡€çŸ¥è¯†&lt;/a&gt;ä»¥äº†è§£è¿™äº›å·¥å…·ã€‚&lt;/p&gt;
&lt;h2 id=&#34;è¦æ±‚&#34;&gt;è¦æ±‚&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;å®‰è£… &lt;a href=&#34;https://kubernetes.io/docs/tasks/tools/install-kubectl/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;kubectl&lt;/a&gt; å‘½ä»¤è¡Œå·¥å…·ã€‚&lt;/li&gt;
&lt;li&gt;æœ‰ä¸€ä¸ª &lt;a href=&#34;https://kubernetes.io/docs/tasks/access-application-cluster/configure-access-multiple-clusters/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;kubeconfig&lt;/a&gt; æ–‡ä»¶ï¼ˆé»˜è®¤ä½ç½®æ˜¯&lt;code&gt;~/.kube/config&lt;/code&gt;ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;CoreDNSã€‚å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼ä¸º microk8s å¯ç”¨&lt;code&gt;microk8s enable dns &amp;amp;&amp;amp; microk8s stop &amp;amp;&amp;amp; microk8s start&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;1-å®‰è£…-argo-cd&#34;&gt;1. å®‰è£… Argo CD&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;kubectl create namespace argocd
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;kubectl apply -n argocd -f https://raw.githubusercontent.com/argoproj/argo-cd/stable/manifests/install.yaml
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿™å°†åˆ›å»ºä¸€ä¸ªæ–°çš„å‘½åç©ºé—´ï¼Œ&lt;code&gt;argocd&lt;/code&gt;ï¼ŒArgo CD æœåŠ¡å’Œåº”ç”¨ç¨‹åºèµ„æºå°†é©»ç•™åœ¨å…¶ä¸­ã€‚&lt;/p&gt;
&lt;p&gt;ğŸ”” è­¦å‘Šï¼šå®‰è£…æ¸…å•åŒ…æ‹¬&lt;code&gt;ClusterRoleBinding&lt;/code&gt;å¼•ç”¨å‘½åç©ºé—´çš„èµ„æº&lt;code&gt;argocd&lt;/code&gt;ã€‚å¦‚æœä½ è¦å°† Argo CD å®‰è£…åˆ°ä¸åŒçš„å‘½åç©ºé—´ä¸­ï¼Œè¯·ç¡®ä¿æ›´æ–°å‘½åç©ºé—´å¼•ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœä½ å¯¹ UIã€SSOã€å¤šé›†ç¾¤åŠŸèƒ½ä¸æ„Ÿå…´è¶£ï¼Œé‚£ä¹ˆä½ å¯ä»¥ä»…å®‰è£…&lt;a href=&#34;../operator-manual/installation/#core&#34;&gt;æ ¸å¿ƒ&lt;/a&gt; Argo CD ç»„ä»¶ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;kubectl create namespace argocd
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;kubectl apply -n argocd -f https://raw.githubusercontent.com/argoproj/argo-cd/stable/manifests/core-install.yaml
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ­¤é»˜è®¤å®‰è£…å°†å…·æœ‰è‡ªç­¾åè¯ä¹¦ï¼Œå¦‚æœæ²¡æœ‰ä¸€äº›é¢å¤–çš„å·¥ä½œå°±æ— æ³•è®¿é—®ã€‚æ‰§è¡Œä»¥ä¸‹æ“ä½œä¹‹ä¸€ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æŒ‰ç…§&lt;a href=&#34;../operator-manual/tls/&#34;&gt;è¯´æ˜é…ç½®è¯ä¹¦&lt;/a&gt;ï¼ˆå¹¶ç¡®ä¿å®¢æˆ·ç«¯æ“ä½œç³»ç»Ÿä¿¡ä»»å®ƒï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;é…ç½®å®¢æˆ·ç«¯æ“ä½œç³»ç»Ÿä»¥ä¿¡ä»»è‡ªç­¾åè¯ä¹¦ã€‚&lt;/li&gt;
&lt;li&gt;åœ¨æœ¬æŒ‡å—ä¸­çš„æ‰€æœ‰ Argo CD CLI æ“ä½œä¸Šä½¿ç”¨ &amp;ndash;insecure æ ‡å¿—ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ç”¨äº&lt;code&gt;argocd login --core&lt;/code&gt;é…ç½® CLI è®¿é—®å¹¶&lt;a href=&#34;../user-guide/commands/argocd_login/&#34;&gt;è·³è¿‡&lt;/a&gt;æ­¥éª¤ 3-5ã€‚&lt;/p&gt;
&lt;h2 id=&#34;2-ä¸‹è½½-argo-cd-cli&#34;&gt;2. ä¸‹è½½ Argo CD CLI&lt;/h2&gt;
&lt;p&gt;ä» &lt;a href=&#34;https://github.com/argoproj/argo-cd/releases/latest&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;GitHub&lt;/a&gt; ä¸‹è½½æœ€æ–°çš„ Argo CD ç‰ˆæœ¬ã€‚æ›´è¯¦ç»†çš„å®‰è£…è¯´æ˜å¯ä»¥é€šè¿‡ &lt;a href=&#34;../cli-installation/&#34;&gt;CLI å®‰è£…æ–‡æ¡£&lt;/a&gt;æ‰¾åˆ°ã€‚&lt;/p&gt;
&lt;p&gt;è¿˜é€‚ç”¨äº Macã€Linux å’Œ WSL Homebrewï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;brew install argocd
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;3-è®¿é—®-argo-cd-api-æœåŠ¡å™¨&#34;&gt;3. è®¿é—® Argo CD API æœåŠ¡å™¨&lt;/h2&gt;
&lt;p&gt;é»˜è®¤æƒ…å†µä¸‹ï¼ŒArgo CD API æœåŠ¡å™¨ä¸å‘å¤–éƒ¨ IP å…¬å¼€ã€‚è¦è®¿é—® API æœåŠ¡å™¨ï¼Œè¯·é€‰æ‹©ä»¥ä¸‹æŠ€æœ¯ä¹‹ä¸€æ¥å…¬å¼€ Argo CD API æœåŠ¡å™¨ï¼š&lt;/p&gt;
&lt;h3 id=&#34;æœåŠ¡ç±»å‹è´Ÿè½½å‡è¡¡å™¨&#34;&gt;æœåŠ¡ç±»å‹è´Ÿè½½å‡è¡¡å™¨&lt;/h3&gt;
&lt;p&gt;å°† argocd-server æœåŠ¡ç±»å‹æ›´æ”¹ä¸º&lt;code&gt;LoadBalancer&lt;/code&gt;ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;kubectl patch svc argocd-server -n argocd -p &lt;span class=&#34;s1&#34;&gt;&amp;#39;{&amp;#34;spec&amp;#34;: {&amp;#34;type&amp;#34;: &amp;#34;LoadBalancer&amp;#34;}}&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;ingress&#34;&gt;Ingress&lt;/h3&gt;
&lt;p&gt;è¯·æŒ‰ç…§&lt;a href=&#34;../operator-manual/ingress/&#34;&gt;ingress æ–‡æ¡£&lt;/a&gt;äº†è§£å¦‚ä½•ä½¿ç”¨ ingress é…ç½® Argo CDã€‚&lt;/p&gt;
&lt;h3 id=&#34;è½¬å‘ç«¯å£&#34;&gt;è½¬å‘ç«¯å£&lt;/h3&gt;
&lt;p&gt;Kubectl ç«¯å£è½¬å‘è¿˜å¯ç”¨äºè¿æ¥åˆ° API æœåŠ¡å™¨ï¼Œè€Œæ— éœ€å…¬å¼€æœåŠ¡ã€‚&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;kubectl port-forward svc/argocd-server -n argocd 8080:443
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ç„¶åå¯ä»¥ä½¿ç”¨ https://localhost:8080 è®¿é—® API æœåŠ¡å™¨&lt;/p&gt;
&lt;h2 id=&#34;4-ä½¿ç”¨-cli-ç™»å½•&#34;&gt;4. ä½¿ç”¨ CLI ç™»å½•&lt;/h2&gt;
&lt;p&gt;å¸æˆ·çš„åˆå§‹å¯†ç &lt;code&gt;admin&lt;/code&gt;æ˜¯è‡ªåŠ¨ç”Ÿæˆçš„ï¼Œå¹¶ä»¥æ˜æ–‡å½¢å¼å­˜å‚¨ åœ¨ Argo CD å®‰è£…å‘½åç©ºé—´ä¸­&lt;code&gt;password&lt;/code&gt;å‘½åçš„æœºå¯†å­—æ®µä¸­ã€‚&lt;code&gt;argocd-initial-admin-secret&lt;/code&gt;ä½ å¯ä»¥ä½¿ç”¨ CLI ç®€å•åœ°æ£€ç´¢æ­¤å¯†ç &lt;code&gt;argocd&lt;/code&gt;ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;argocd admin initial-password -n argocd
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ğŸ”” è­¦å‘Šï¼š&lt;code&gt;argocd-initial-admin-secret&lt;/code&gt;æ›´æ”¹å¯†ç åï¼Œä½ åº”è¯¥ä» Argo CD å‘½åç©ºé—´ä¸­åˆ é™¤ã€‚è¯¥ç§˜å¯†é™¤äº†ä»¥æ˜æ–‡å½¢å¼å­˜å‚¨æœ€åˆç”Ÿæˆçš„å¯†ç å¤–æ²¡æœ‰å…¶ä»–ç”¨é€”ï¼Œå¹¶ä¸”å¯ä»¥éšæ—¶å®‰å…¨åœ°åˆ é™¤ã€‚å¦‚æœå¿…é¡»é‡æ–°ç”Ÿæˆæ–°çš„ç®¡ç†å‘˜å¯†ç ï¼ŒArgo CD å°†æ ¹æ®éœ€è¦é‡æ–°åˆ›å»ºå®ƒã€‚&lt;/p&gt;
&lt;p&gt;ä½¿ç”¨ä¸Šé¢çš„ç”¨æˆ·å&lt;code&gt;admin&lt;/code&gt;å’Œå¯†ç ï¼Œç™»å½• Argo CD çš„ IP æˆ–ä¸»æœºåï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;argocd login &amp;lt;ARGOCD_SERVER&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ğŸ”” æ³¨æ„ï¼šCLI ç¯å¢ƒå¿…é¡»èƒ½å¤Ÿä¸ Argo CD API æœåŠ¡å™¨é€šä¿¡ã€‚å¦‚æœæ— æ³•æŒ‰ç…§ä¸Šè¿°æ­¥éª¤ 3 ä¸­çš„æè¿°ç›´æ¥è®¿é—®å®ƒï¼Œä½ å¯ä»¥å‘Šè¯‰ CLI é€šè¿‡ä»¥ä¸‹æœºåˆ¶ä¹‹ä¸€ä½¿ç”¨ç«¯å£è½¬å‘æ¥è®¿é—®å®ƒï¼š1) å‘æ¯ä¸ª CLI å‘½ä»¤æ·»åŠ  &lt;code&gt;--port-forward-namespace argocd&lt;/code&gt;æ ‡å¿—ï¼›æˆ– 2) è®¾ç½®&lt;code&gt;ARGOCD_OPTS&lt;/code&gt;ç¯å¢ƒå˜é‡ï¼š&lt;code&gt;export ARGOCD_OPTS=&#39;--port-forward-namespace argocd&#39;&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ›´æ”¹å¯†ç ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;argocd account update-password
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;5-æ³¨å†Œé›†ç¾¤ä»¥éƒ¨ç½²åº”ç”¨ç¨‹åºå¯é€‰&#34;&gt;5. æ³¨å†Œé›†ç¾¤ä»¥éƒ¨ç½²åº”ç”¨ç¨‹åºï¼ˆå¯é€‰ï¼‰&lt;/h2&gt;
&lt;p&gt;æ­¤æ­¥éª¤å°†é›†ç¾¤çš„å‡­æ®æ³¨å†Œåˆ° Argo CDï¼Œå¹¶ä¸”ä»…åœ¨éƒ¨ç½²åˆ°å¤–éƒ¨é›†ç¾¤æ—¶æ‰éœ€è¦ã€‚åœ¨å†…éƒ¨éƒ¨ç½²æ—¶ï¼ˆåˆ°è¿è¡Œ Argo CD çš„åŒä¸€é›†ç¾¤ï¼‰ï¼Œåº”ä½¿ç”¨ &lt;a href=&#34;https://kubernetes.default.svc&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;https://kubernetes.default.svc&lt;/a&gt; ä½œä¸ºåº”ç”¨ç¨‹åºçš„ K8s API æœåŠ¡å™¨åœ°å€ã€‚&lt;/p&gt;
&lt;p&gt;é¦–å…ˆåˆ—å‡ºå½“å‰ kubeconfig ä¸­çš„æ‰€æœ‰é›†ç¾¤ä¸Šä¸‹æ–‡ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;kubectl config get-contexts -o name
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä»åˆ—è¡¨ä¸­é€‰æ‹©ä¸€ä¸ªä¸Šä¸‹æ–‡åç§°å¹¶å°†å…¶æä¾›ç»™&lt;code&gt;argocd cluster add CONTEXTNAME&lt;/code&gt;ã€‚ä¾‹å¦‚ï¼Œå¯¹äº docker-desktop ä¸Šä¸‹æ–‡ï¼Œè¿è¡Œï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;argocd cluster add docker-desktop
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä¸Šé¢çš„å‘½ä»¤å°† ServiceAccount ( &lt;code&gt;argocd-manager&lt;/code&gt;) å®‰è£…åˆ°è¯¥ kubectl ä¸Šä¸‹æ–‡çš„ &lt;code&gt;kube-system&lt;/code&gt; å‘½åç©ºé—´ä¸­ï¼Œå¹¶å°†æœåŠ¡å¸æˆ·ç»‘å®šåˆ°ç®¡ç†å‘˜çº§åˆ«çš„ ClusterRoleã€‚Argo CD ä½¿ç”¨æ­¤æœåŠ¡å¸æˆ·ä»¤ç‰Œæ¥æ‰§è¡Œå…¶ç®¡ç†ä»»åŠ¡ï¼ˆå³éƒ¨ç½² / ç›‘æ§ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;ğŸ”” æ³¨æ„ï¼šå¯ä»¥ä¿®æ”¹ &lt;code&gt;argocd-manager-role&lt;/code&gt; è§’è‰²çš„è§„åˆ™ï¼Œä½¿å…¶ä»…å…·æœ‰å¯¹æœ‰é™çš„å‘½åç©ºé—´ã€ç»„å’Œç±»å‹é›†çš„ &lt;code&gt;create&lt;/code&gt;ã€&lt;code&gt;update&lt;/code&gt;ã€&lt;code&gt;patch&lt;/code&gt;ã€&lt;code&gt;delete&lt;/code&gt;æƒé™ã€‚ä½†æ˜¯ï¼Œè¦ä½¿ Argo CD å‘æŒ¥ä½œç”¨ï¼Œåœ¨é›†ç¾¤ä½œç”¨åŸŸä¸­éœ€è¦&lt;code&gt;get&lt;/code&gt;ã€&lt;code&gt;list&lt;/code&gt;å’Œ&lt;code&gt;watch&lt;/code&gt;æƒé™ã€‚&lt;/p&gt;
&lt;h2 id=&#34;6-ä»-git-å­˜å‚¨åº“åˆ›å»ºåº”ç”¨ç¨‹åº&#34;&gt;6. ä» Git å­˜å‚¨åº“åˆ›å»ºåº”ç”¨ç¨‹åº&lt;/h2&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/argoproj/argocd-example-apps.git&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;https://github.com/argoproj/argocd-example-apps.git&lt;/a&gt; æä¾›äº†åŒ…å« guestbook åº”ç”¨ç¨‹åºçš„ç¤ºä¾‹å­˜å‚¨åº“ï¼Œä»¥æ¼”ç¤º Argo CD çš„å·¥ä½œåŸç†ã€‚&lt;/p&gt;
&lt;h3 id=&#34;é€šè¿‡-cli-åˆ›å»ºåº”ç”¨ç¨‹åº&#34;&gt;é€šè¿‡ CLI åˆ›å»ºåº”ç”¨ç¨‹åº&lt;/h3&gt;
&lt;p&gt;é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦è¿è¡Œä»¥ä¸‹å‘½ä»¤å°†å½“å‰å‘½åç©ºé—´è®¾ç½®ä¸º argocdï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;kubectl config set-context --current --namespace&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;argocd
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤åˆ›å»ºç¤ºä¾‹ guestbook åº”ç”¨ç¨‹åºï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;argocd app create guestbook --repo https://github.com/argoproj/argocd-example-apps.git --path guestbook --dest-server https://kubernetes.default.svc --dest-namespace default
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;é€šè¿‡-ui-åˆ›å»ºåº”ç”¨ç¨‹åº&#34;&gt;é€šè¿‡ UI åˆ›å»ºåº”ç”¨ç¨‹åº&lt;/h3&gt;
&lt;p&gt;æ‰“å¼€æµè§ˆå™¨è®¿é—® Argo CD å¤–éƒ¨ UIï¼Œé€šè¿‡åœ¨æµè§ˆå™¨ä¸­è®¿é—® IP / ä¸»æœºåè¿›è¡Œç™»å½•ï¼Œå¹¶ä½¿ç”¨æ­¥éª¤ 4 ä¸­è®¾ç½®çš„å‡­æ®ã€‚&lt;/p&gt;
&lt;p&gt;ç™»å½•åï¼Œç‚¹å‡» &lt;strong&gt;+ New App&lt;/strong&gt; æŒ‰é’®ï¼Œå¦‚ä¸‹å›¾ï¼š&lt;/p&gt;
&lt;p&gt;















&lt;figure  id=&#34;figure--new-app-æŒ‰é’®&#34;&gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img src=&#34;../assets/new-app.png&#34; alt=&#34;&amp;#43; New App æŒ‰é’®&#34; loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;figcaption&gt;
      &amp;#43; New App æŒ‰é’®
    &lt;/figcaption&gt;&lt;/figure&gt;
&lt;/p&gt;
&lt;p&gt;ä¸ºä½ çš„åº”ç”¨ç¨‹åºå‘½å&lt;code&gt;guestbook&lt;/code&gt;ï¼Œä½¿ç”¨é¡¹ç›®&lt;code&gt;default&lt;/code&gt;ï¼Œå¹¶å°†åŒæ­¥ç­–ç•¥ä¿ç•™ä¸º&lt;code&gt;Manual&lt;/code&gt;ï¼š&lt;/p&gt;
&lt;p&gt;















&lt;figure  id=&#34;figure-åº”ç”¨ç¨‹åºä¿¡æ¯&#34;&gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img src=&#34;../assets/app-ui-information.png&#34; alt=&#34;åº”ç”¨ç¨‹åºä¿¡æ¯&#34; loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;figcaption&gt;
      åº”ç”¨ç¨‹åºä¿¡æ¯
    &lt;/figcaption&gt;&lt;/figure&gt;
&lt;/p&gt;
&lt;p&gt;é€šè¿‡å°†å­˜å‚¨åº“ url è®¾ç½®ä¸º github å­˜å‚¨åº“ urlï¼Œå°† &lt;a href=&#34;https://github.com/argoproj/argocd-example-apps.git&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;https://github.com/argoproj/argocd-example-apps.git&lt;/a&gt; å­˜å‚¨åº“è¿æ¥åˆ° Argo CDï¼Œå°†ä¿®è®¢ä¿ç•™ä¸º&lt;code&gt;HEAD&lt;/code&gt;ï¼Œå¹¶å°†è·¯å¾„è®¾ç½®ä¸º&lt;code&gt;guestbook&lt;/code&gt;ï¼š&lt;/p&gt;
&lt;p&gt;















&lt;figure  id=&#34;figure-è¿æ¥ä»“åº“&#34;&gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img src=&#34;../assets/connect-repo.png&#34; alt=&#34;è¿æ¥ä»“åº“&#34; loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;figcaption&gt;
      è¿æ¥ä»“åº“
    &lt;/figcaption&gt;&lt;/figure&gt;
&lt;/p&gt;
&lt;p&gt;å¯¹äº&lt;strong&gt;Destination&lt;/strong&gt;ï¼Œå°†é›†ç¾¤ URL è®¾ç½®ä¸º&lt;code&gt;https://kubernetes.default.svc&lt;/code&gt;ï¼ˆæˆ–&lt;code&gt;in-cluster&lt;/code&gt;é›†ç¾¤åç§°ï¼‰ï¼Œå°†å‘½åç©ºé—´è®¾ç½®ä¸º&lt;code&gt;default&lt;/code&gt;ï¼š&lt;/p&gt;
&lt;p&gt;















&lt;figure  id=&#34;figure-ç›®çš„åœ°&#34;&gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img src=&#34;../assets/destination.png&#34; alt=&#34;ç›®çš„åœ°&#34; loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;figcaption&gt;
      ç›®çš„åœ°
    &lt;/figcaption&gt;&lt;/figure&gt;
&lt;/p&gt;
&lt;p&gt;å¡«å†™å®Œä»¥ä¸Šä¿¡æ¯åï¼Œç‚¹å‡» UI é¡¶éƒ¨çš„&lt;strong&gt;Create&lt;/strong&gt; &lt;code&gt;guestbook&lt;/code&gt;å³å¯åˆ›å»ºåº”ç”¨ç¨‹åºï¼š&lt;/p&gt;
&lt;p&gt;















&lt;figure  id=&#34;figure-ç›®çš„åœ°&#34;&gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img src=&#34;../assets/create-app.png&#34; alt=&#34;ç›®çš„åœ°&#34; loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;figcaption&gt;
      ç›®çš„åœ°
    &lt;/figcaption&gt;&lt;/figure&gt;
&lt;/p&gt;
&lt;h2 id=&#34;7-åŒæ­¥éƒ¨ç½²åº”ç”¨ç¨‹åº&#34;&gt;7. åŒæ­¥ï¼ˆéƒ¨ç½²ï¼‰åº”ç”¨ç¨‹åº&lt;/h2&gt;
&lt;h3 id=&#34;é€šè¿‡-cli-åŒæ­¥&#34;&gt;é€šè¿‡ CLI åŒæ­¥&lt;/h3&gt;
&lt;p&gt;åˆ›å»º guestbook åº”ç”¨ç¨‹åºåï¼Œä½ ç°åœ¨å¯ä»¥æŸ¥çœ‹å…¶çŠ¶æ€ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ argocd app get guestbook
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Name:               guestbook
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Server:             https://kubernetes.default.svc
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Namespace:          default
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;URL:                https://10.97.164.88/applications/guestbook
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Repo:               https://github.com/argoproj/argocd-example-apps.git
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Target:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Path:               guestbook
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Sync Policy:        &amp;lt;none&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Sync Status:        OutOfSync from  &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;1ff8a67&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Health Status:      Missing
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;GROUP  KIND        NAMESPACE  NAME          STATUS     HEALTH
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;apps   Deployment  default    guestbook-ui  OutOfSync  Missing
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;       Service     default    guestbook-ui  OutOfSync  Missing
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;åº”ç”¨ç¨‹åºçŠ¶æ€ä¸ºåˆå§‹&lt;code&gt;OutOfSync&lt;/code&gt;çŠ¶æ€ï¼Œå› ä¸ºåº”ç”¨ç¨‹åºå°šæœªéƒ¨ç½²ï¼Œå¹¶ä¸”å°šæœªåˆ›å»º Kubernetes èµ„æºã€‚è¦åŒæ­¥ï¼ˆéƒ¨ç½²ï¼‰åº”ç”¨ç¨‹åºï¼Œè¯·è¿è¡Œï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;argocd app sync guestbook
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ­¤å‘½ä»¤ä»å­˜å‚¨åº“æ£€ç´¢æ¸…å•å¹¶æ‰§è¡Œ&lt;code&gt;kubectl apply&lt;/code&gt;å…¶ä¸­ä¸€ä¸ªæ¸…å•ã€‚guestbook åº”ç”¨ç¨‹åºç°å·²è¿è¡Œï¼Œä½ ç°åœ¨å¯ä»¥æŸ¥çœ‹å…¶èµ„æºç»„ä»¶ã€æ—¥å¿—ã€äº‹ä»¶å’Œè¯„ä¼°çš„å¥åº·çŠ¶æ€ã€‚&lt;/p&gt;
&lt;h3 id=&#34;é€šè¿‡-ui-åŒæ­¥&#34;&gt;é€šè¿‡ UI åŒæ­¥&lt;/h3&gt;
&lt;p&gt;















&lt;figure  id=&#34;figure-guestbook-åº”ç”¨&#34;&gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img src=&#34;../assets/guestbook-app.png&#34; alt=&#34;guestbook åº”ç”¨&#34; loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;figcaption&gt;
      guestbook åº”ç”¨
    &lt;/figcaption&gt;&lt;/figure&gt;
&lt;/p&gt;
&lt;p&gt;















&lt;figure  id=&#34;figure-æŸ¥çœ‹åº”ç”¨&#34;&gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img src=&#34;../assets/guestbook-tree.png&#34; alt=&#34;æŸ¥çœ‹åº”ç”¨&#34; loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;figcaption&gt;
      æŸ¥çœ‹åº”ç”¨
    &lt;/figcaption&gt;&lt;/figure&gt;
&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>ApplicationSet å®‰å…¨æ€§</title>
      <link>https://lib.jimmysong.io/argo-cd/operator-manual/applicationset/security/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>https://lib.jimmysong.io/argo-cd/operator-manual/applicationset/security/</guid>
      <description>&lt;p&gt;åœ¨ä½¿ç”¨ ApplicationSet ä¹‹å‰ï¼Œäº†è§£å…¶å®‰å…¨æ€§å½±å“éå¸¸é‡è¦ã€‚&lt;/p&gt;
&lt;h2 id=&#34;åªæœ‰ç®¡ç†å‘˜å¯ä»¥åˆ›å»ºæ›´æ–°åˆ é™¤-applicationset&#34;&gt;åªæœ‰ç®¡ç†å‘˜å¯ä»¥åˆ›å»º/æ›´æ–°/åˆ é™¤ ApplicationSet&lt;/h2&gt;
&lt;p&gt;ApplicationSet å¯ä»¥åœ¨ä»»æ„ Project ä¸‹åˆ›å»ºåº”ç”¨ç¨‹åºã€‚Argo CD è®¾ç½®é€šå¸¸åŒ…æ‹¬é«˜æƒé™çš„ &lt;a href=&#34;../../user-guide/projects/&#34;&gt;Project&lt;/a&gt;ï¼ˆä¾‹å¦‚ &lt;code&gt;default&lt;/code&gt;ï¼‰ï¼Œå¾€å¾€åŒ…æ‹¬ç®¡ç† Argo CD è‡ªèº«èµ„æºçš„èƒ½åŠ›ï¼ˆä¾‹å¦‚ RBAC ConfigMapï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;ApplicationSets è¿˜å¯ä»¥å¿«é€Ÿåˆ›å»ºä»»æ„æ•°é‡çš„åº”ç”¨ç¨‹åºï¼Œå¹¶åŒæ ·å¿«é€Ÿåˆ é™¤å®ƒä»¬ã€‚&lt;/p&gt;
&lt;p&gt;æœ€åï¼ŒApplicationSets å¯ä»¥æ˜¾ç¤ºç‰¹æƒä¿¡æ¯ã€‚ä¾‹å¦‚ï¼Œ&lt;a href=&#34;../generators-git/&#34;&gt;git generator&lt;/a&gt; å¯ä»¥è¯»å– Argo CD å‘½åç©ºé—´ä¸­çš„ Secretsï¼Œå¹¶å°†å…¶ä½œä¸º Auth æ ‡å¤´å‘é€åˆ°ä»»æ„ URLï¼ˆä¾‹å¦‚ä¸º &lt;code&gt;api&lt;/code&gt; å­—æ®µæä¾›çš„ URLï¼‰ã€‚ ï¼ˆæ­¤åŠŸèƒ½æ—¨åœ¨ä¸º SCM æä¾›ç¨‹åºï¼ˆå¦‚ GitHubï¼‰æˆæƒè¯·æ±‚ï¼Œä½†å¯èƒ½ä¼šè¢«æ¶æ„ç”¨æˆ·æ»¥ç”¨ã€‚ï¼‰&lt;/p&gt;
&lt;p&gt;å‡ºäºè¿™äº›åŸå› ï¼Œ&lt;strong&gt;åªæœ‰ç®¡ç†å‘˜&lt;/strong&gt;å¯ä»¥é€šè¿‡ Kubernetes RBAC æˆ–ä»»ä½•å…¶ä»–æœºåˆ¶è·å¾—åˆ›å»ºã€æ›´æ–°æˆ–åˆ é™¤ ApplicationSets çš„æƒé™ã€‚&lt;/p&gt;
&lt;h2 id=&#34;ç®¡ç†å‘˜å¿…é¡»ä¸º-applicationsets-çš„çœŸå®æ¥æºåº”ç”¨é€‚å½“çš„æ§åˆ¶&#34;&gt;&lt;strong&gt;ç®¡ç†å‘˜å¿…é¡»ä¸º ApplicationSets çš„çœŸå®æ¥æºåº”ç”¨é€‚å½“çš„æ§åˆ¶&lt;/strong&gt;&lt;/h2&gt;
&lt;p&gt;å³ä½¿éç®¡ç†å‘˜ä¸èƒ½åˆ›å»º ApplicationSet èµ„æºï¼Œä»–ä»¬ä¹Ÿå¯èƒ½å½±å“ ApplicationSets çš„è¡Œä¸ºã€‚&lt;/p&gt;
&lt;p&gt;ä¾‹å¦‚ï¼Œå¦‚æœ ApplicationSet ä½¿ç”¨ &lt;a href=&#34;../generators-git/&#34;&gt;git generator&lt;/a&gt;ï¼Œåˆ™å…·æœ‰æº Git å­˜å‚¨åº“çš„æ¨é€è®¿é—®æƒé™çš„æ¶æ„ç”¨æˆ·å¯èƒ½ä¼šç”Ÿæˆè¿‡å¤šçš„åº”ç”¨ç¨‹åºï¼Œå¯¹ ApplicationSet å’Œåº”ç”¨ç¨‹åºæ§åˆ¶å™¨é€ æˆå‹åŠ›ã€‚ä»–ä»¬è¿˜å¯èƒ½å¯¼è‡´ SCM æä¾›è€…çš„é€Ÿç‡é™åˆ¶ç”Ÿæ•ˆï¼Œå½±å“ ApplicationSet æœåŠ¡ã€‚&lt;/p&gt;
&lt;h3 id=&#34;æ¨¡æ¿åŒ–çš„projectå­—æ®µ&#34;&gt;&lt;strong&gt;æ¨¡æ¿åŒ–çš„â€œprojectâ€å­—æ®µ&lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt;ç‰¹åˆ«éœ€è¦æ³¨æ„ä½¿ç”¨æ¨¡æ¿åŒ–çš„â€œprojectâ€å­—æ®µçš„ ApplicationSetã€‚å…·æœ‰å†™æƒé™çš„æ¶æ„ç”¨æˆ·ï¼ˆä¾‹å¦‚ï¼Œå…·æœ‰å¯¹ git generator çš„ git repo çš„æ¨é€è®¿é—®æƒé™çš„ç”¨æˆ·ï¼‰å¯èƒ½ä¼šåœ¨é™åˆ¶ä¸è¶³çš„ Projects ä¸‹åˆ›å»ºåº”ç”¨ç¨‹åºã€‚å…·æœ‰åœ¨ä¸å—é™åˆ¶çš„ Projectï¼ˆå¦‚â€œdefaultâ€Projectï¼‰ä¸‹åˆ›å»ºåº”ç”¨ç¨‹åºçš„èƒ½åŠ›çš„æ¶æ„ç”¨æˆ·å¯èƒ½ä¼šé€šè¿‡ä¿®æ”¹å…¶ RBAC ConfigMap ç­‰æ–¹å¼æ¥ç®¡ Argo CD æœ¬èº«ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœ ApplicationSet çš„æ¨¡æ¿ä¸­æœªç¡¬ç¼–ç â€œprojectâ€å­—æ®µï¼Œåˆ™ç®¡ç†å‘˜&lt;em&gt;å¿…é¡»&lt;/em&gt;æ§åˆ¶ ApplicationSet çš„ç”Ÿæˆå™¨çš„æ‰€æœ‰æ¥æºã€‚&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>FAQ</title>
      <link>https://lib.jimmysong.io/argo-cd/faq/</link>
      <pubDate>Fri, 30 Jun 2023 16:00:00 +0800</pubDate>
      <guid>https://lib.jimmysong.io/argo-cd/faq/</guid>
      <description>&lt;h2 id=&#34;æˆ‘åˆ é™¤æŸåäº†æˆ‘çš„å­˜å‚¨åº“æ— æ³•åˆ é™¤æˆ‘çš„åº”ç”¨ç¨‹åº&#34;&gt;æˆ‘åˆ é™¤/æŸåäº†æˆ‘çš„å­˜å‚¨åº“ï¼Œæ— æ³•åˆ é™¤æˆ‘çš„åº”ç”¨ç¨‹åºã€‚&lt;/h2&gt;
&lt;p&gt;å¦‚æœ Argo CD æ— æ³•ç”Ÿæˆæ¸…å•ï¼Œåˆ™æ— æ³•åˆ é™¤åº”ç”¨ç¨‹åºã€‚ä½ éœ€è¦ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æ¢å¤/ä¿®å¤ä½ çš„å­˜å‚¨åº“ã€‚&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨&lt;code&gt;cascade=false&lt;/code&gt;åˆ é™¤åº”ç”¨ç¨‹åºï¼Œç„¶åæ‰‹åŠ¨åˆ é™¤èµ„æºã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;ä¸ºä»€ä¹ˆæˆ‘çš„åº”ç”¨ç¨‹åºåœ¨æˆåŠŸåŒæ­¥åä»ç„¶å¤„äº-outofsync-çŠ¶æ€&#34;&gt;ä¸ºä»€ä¹ˆæˆ‘çš„åº”ç”¨ç¨‹åºåœ¨æˆåŠŸåŒæ­¥åä»ç„¶å¤„äº &lt;code&gt;OutOfSync&lt;/code&gt; çŠ¶æ€ï¼Ÿ&lt;/h2&gt;
&lt;p&gt;è¯·æŸ¥çœ‹ å·®å¼‚æ¯”è¾ƒ æ–‡æ¡£ï¼Œäº†è§£èµ„æºå¯èƒ½å¤„äº &lt;code&gt;OutOfSync&lt;/code&gt; çŠ¶æ€çš„åŸå› ï¼Œä»¥åŠé…ç½® Argo CD å¿½ç•¥å­—æ®µçš„æ–¹æ³• å½“å­˜åœ¨ä¸åŒä¹‹å¤„æ—¶ã€‚&lt;/p&gt;
&lt;h2 id=&#34;ä¸ºä»€ä¹ˆæˆ‘çš„åº”ç”¨ç¨‹åºä¸€ç›´å¤„äºprogressingçŠ¶æ€&#34;&gt;ä¸ºä»€ä¹ˆæˆ‘çš„åº”ç”¨ç¨‹åºä¸€ç›´å¤„äºâ€œProgressingâ€çŠ¶æ€ï¼Ÿ&lt;/h2&gt;
&lt;p&gt;Argo CD ä¸ºå‡ ç§æ ‡å‡† Kubernetes ç±»å‹æä¾›å¥åº·çŠ¶æ€ã€‚ &lt;code&gt;Ingress&lt;/code&gt;ã€&lt;code&gt;StatefulSet&lt;/code&gt; å’Œ &lt;code&gt;SealedSecret&lt;/code&gt; ç±»å‹å­˜åœ¨å·²çŸ¥é—®é¢˜ï¼Œå¯èƒ½ä¼šå¯¼è‡´å¥åº·æ£€æŸ¥è¿”å› &lt;code&gt;Progressing&lt;/code&gt; çŠ¶æ€è€Œä¸æ˜¯ &lt;code&gt;Healthy&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;Ingress&lt;/code&gt; å¦‚æœ &lt;code&gt;status.loadBalancer.ingress&lt;/code&gt; åˆ—è¡¨æ˜¯éç©ºçš„ï¼Œå¹¶ä¸”è‡³å°‘æœ‰ä¸€ä¸ªå€¼ä¸º &lt;code&gt;hostname&lt;/code&gt; æˆ– &lt;code&gt;IP&lt;/code&gt;ï¼Œåˆ™è¢«è§†ä¸ºå¥åº·çŠ¶æ€ã€‚ä¸€äº› Ingress æ§åˆ¶å™¨ï¼ˆ&lt;a href=&#34;https://github.com/heptio/contour/issues/403&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;contour&lt;/a&gt;ã€&lt;a href=&#34;https://github.com/argoproj/argo-cd/issues/968#issuecomment-451082913&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;traefik&lt;/a&gt;ï¼‰ä¸ä¼šæ›´æ–° &lt;code&gt;status.loadBalancer.ingress&lt;/code&gt; å­—æ®µï¼Œè¿™ä¼šå¯¼è‡´ &lt;code&gt;Ingress&lt;/code&gt; æ°¸ä¹…åœç•™åœ¨ &lt;code&gt;Progressing&lt;/code&gt; çŠ¶æ€ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;StatefulSet&lt;/code&gt; å¦‚æœ &lt;code&gt;status.updatedReplicas&lt;/code&gt; å­—æ®µçš„å€¼ä¸ &lt;code&gt;spec.replicas&lt;/code&gt; å­—æ®µåŒ¹é…ï¼Œåˆ™è¢«è§†ä¸ºå¥åº·çŠ¶æ€ã€‚ç”±äº Kubernetes bug &lt;a href=&#34;https://github.com/kubernetes/kubernetes/issues/68573&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;kubernetes/kubernetes#68573&lt;/a&gt;ï¼Œ&lt;code&gt;status.updatedReplicas&lt;/code&gt; æ²¡æœ‰å¡«å……ã€‚å› æ­¤ï¼Œé™¤éä½ è¿è¡ŒåŒ…æ‹¬ä¿®å¤ç¨‹åº &lt;a href=&#34;https://github.com/kubernetes/kubernetes/pull/67570&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;kubernetes/kubernetes#67570&lt;/a&gt; çš„ Kubernetes ç‰ˆæœ¬ï¼Œå¦åˆ™ &lt;code&gt;StatefulSet&lt;/code&gt; å¯èƒ½ä¼šä¿æŒåœ¨ &lt;code&gt;Progressing&lt;/code&gt; çŠ¶æ€ã€‚&lt;/li&gt;
&lt;li&gt;ä½ çš„ &lt;code&gt;StatefulSet&lt;/code&gt; æˆ– &lt;code&gt;DaemonSet&lt;/code&gt; æ­£åœ¨ä½¿ç”¨ &lt;code&gt;OnDelete&lt;/code&gt; è€Œä¸æ˜¯ &lt;code&gt;RollingUpdate&lt;/code&gt; ç­–ç•¥ã€‚è¯·å‚è§ &lt;a href=&#34;https://github.com/argoproj/argo-cd/issues/1881&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;#1881&lt;/a&gt;ã€‚&lt;/li&gt;
&lt;li&gt;å¯¹äº &lt;code&gt;SealedSecret&lt;/code&gt;ï¼Œè¯·å‚é˜… ä¸ºä»€ä¹ˆ &lt;code&gt;SealedSecret&lt;/code&gt; ç±»å‹çš„èµ„æºå¤„äº &lt;code&gt;Progressing&lt;/code&gt; çŠ¶æ€ï¼Ÿ&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä½œä¸ºè§£å†³æ–¹æ³•ï¼ŒArgo CD å…è®¸æä¾› å¥åº·æ£€æŸ¥ è‡ªå®šä¹‰ï¼Œè¦†ç›–é»˜è®¤è¡Œä¸ºã€‚&lt;/p&gt;
&lt;h2 id=&#34;æˆ‘å¿˜è®°äº†ç®¡ç†å‘˜å¯†ç å¦‚ä½•é‡ç½®å¯†ç &#34;&gt;æˆ‘å¿˜è®°äº†ç®¡ç†å‘˜å¯†ç ï¼Œå¦‚ä½•é‡ç½®å¯†ç ï¼Ÿ&lt;/h2&gt;
&lt;p&gt;å¯¹äº Argo CD v1.8 åŠæ›´æ—©ç‰ˆæœ¬ï¼Œåˆå§‹å¯†ç è®¾ç½®ä¸ºæœåŠ¡å™¨ pod çš„åç§°ï¼Œå¦‚ &lt;a href=&#34;../gettting-started/&#34;&gt;å…¥é—¨æŒ‡å—&lt;/a&gt; ä¸­æ‰€è¿°ã€‚å¯¹äº Argo CD v1.9 åŠæ›´é«˜ç‰ˆæœ¬ï¼Œåˆå§‹å¯†ç å¯ä»åä¸º &lt;code&gt;argocd-initial-admin-secret&lt;/code&gt; çš„ secret ä¸­è·å–ã€‚&lt;/p&gt;
&lt;p&gt;è¦æ›´æ”¹å¯†ç ï¼Œè¯·ç¼–è¾‘ &lt;code&gt;argocd-secret&lt;/code&gt; secretï¼Œå¹¶ä½¿ç”¨æ–°çš„ bcrypt å“ˆå¸Œæ›´æ–° &lt;code&gt;admin.password&lt;/code&gt; å­—æ®µã€‚&lt;/p&gt;
&lt;div class=&#34;alert-note-title&#34;&gt;
    &lt;p&gt;ç”Ÿæˆ bcrypt å“ˆå¸Œ&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;alert alert-note&#34;&gt;
    &lt;p&gt;ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ç”Ÿæˆ &lt;code&gt;admin.password&lt;/code&gt; çš„ bcrypt å“ˆå¸Œï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;argocd account bcrypt --password &amp;lt;YOUR-PASSWORD-HERE&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;

&lt;p&gt;è¦åº”ç”¨æ–°çš„å¯†ç å“ˆå¸Œï¼Œè¯·ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼ˆç”¨ä½ è‡ªå·±çš„å“ˆå¸Œæ›¿æ¢å“ˆå¸Œï¼‰ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; &lt;span class=&#34;c1&#34;&gt;# bcrypt(password)=$2a$10$rRyBsGSHK6.uc8fntPwVIuLVHgsAhAX7TcdrqW/RADU0uh7CaChLa&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; kubectl -n argocd patch secret argocd-secret &lt;span class=&#34;se&#34;&gt;\\\\&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;   -p &lt;span class=&#34;err&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;stringData&amp;#34;&lt;/span&gt;: &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;     &lt;span class=&#34;s2&#34;&gt;&amp;#34;admin.password&amp;#34;&lt;/span&gt;: &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$2&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$10$rRyBsGSHK6&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;.uc8fntPwVIuLVHgsAhAX7TcdrqW/RADU0uh7CaChLa&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å¦ä¸€ä¸ªé€‰é¡¹æ˜¯åˆ é™¤ &lt;code&gt;admin.password&lt;/code&gt; å’Œ &lt;code&gt;admin.passwordMtime&lt;/code&gt; ä¸¤ä¸ªé”®ï¼Œç„¶åé‡æ–°å¯åŠ¨ argocd-serverã€‚è¿™å°†æ ¹æ® &lt;a href=&#34;../getting-started/&#34;&gt;å…¥é—¨æŒ‡å—&lt;/a&gt; ç”Ÿæˆæ–°å¯†ç ï¼Œå› æ­¤è¦ä¹ˆä½¿ç”¨ pod åç§° (Argo CD 1.8 åŠæ›´æ—©ç‰ˆæœ¬)ï¼Œè¦ä¹ˆä½¿ç”¨å­˜å‚¨åœ¨ secret ä¸­çš„éšæœºç”Ÿæˆçš„å¯†ç  (Argo CD 1.9 åŠæ›´é«˜ç‰ˆæœ¬)ã€‚&lt;/p&gt;
&lt;h2 id=&#34;å¦‚ä½•ç¦ç”¨ç®¡ç†å‘˜ç”¨æˆ·&#34;&gt;å¦‚ä½•ç¦ç”¨ç®¡ç†å‘˜ç”¨æˆ·ï¼Ÿ&lt;/h2&gt;
&lt;p&gt;å°† &lt;code&gt;admin.enabled: &amp;quot;false&amp;quot;&lt;/code&gt; æ·»åŠ åˆ° &lt;code&gt;argocd-cm&lt;/code&gt; ConfigMap ä¸­ ( å‚è§ &lt;a href=&#34;../user-guide/&#34;&gt;ç”¨æˆ·ç®¡ç†&lt;/a&gt;)ã€‚&lt;/p&gt;
&lt;h2 id=&#34;argo-cd-æ— æ³•åœ¨æ²¡æœ‰äº’è”ç½‘è®¿é—®çš„æƒ…å†µä¸‹éƒ¨ç½²åŸºäº-helm-chart-çš„åº”ç”¨ç¨‹åºè¯¥æ€ä¹ˆåŠ&#34;&gt;Argo CD æ— æ³•åœ¨æ²¡æœ‰äº’è”ç½‘è®¿é—®çš„æƒ…å†µä¸‹éƒ¨ç½²åŸºäº Helm Chart çš„åº”ç”¨ç¨‹åºï¼Œè¯¥æ€ä¹ˆåŠï¼Ÿ&lt;/h2&gt;
&lt;p&gt;å¦‚æœ Helm Chart æœ‰ä½äºå¤–éƒ¨å­˜å‚¨åº“ä¸­çš„ä¾èµ–é¡¹ï¼Œåˆ™ Argo CD å¯èƒ½æ— æ³•ç”Ÿæˆ Helm Chart æ¸…å•ã€‚è¦è§£å†³æ­¤é—®é¢˜ï¼Œä½ éœ€è¦ç¡®ä¿ &lt;code&gt;requirements.yaml&lt;/code&gt; ä»…ä½¿ç”¨å†…éƒ¨å¯ç”¨çš„ Helm å­˜å‚¨åº“ã€‚å³ä½¿ chart ä»…ä½¿ç”¨æ¥è‡ªå†…éƒ¨å­˜å‚¨åº“çš„ä¾èµ–é¡¹ï¼ŒHelm ä¹Ÿå¯èƒ½å†³å®šåˆ·æ–° &lt;code&gt;stable&lt;/code&gt; å­˜å‚¨åº“ã€‚ä½œä¸ºè§£å†³æ–¹æ³•ï¼Œå¯ä»¥åœ¨ &lt;code&gt;argocd-cm&lt;/code&gt; config map ä¸­è¦†ç›– &lt;code&gt;stable&lt;/code&gt; å­˜å‚¨åº“ URLï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;data&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;   &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;repositories&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;sd&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;sd&#34;&gt;     - type: helm
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;sd&#34;&gt;       url: http://&amp;lt;internal-helm-repo-host&amp;gt;:8080
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;sd&#34;&gt;       name: stable&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;     
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;ä½¿ç”¨-argo-cd-éƒ¨ç½²-helm-åº”ç”¨ç¨‹åºåæˆ‘æ— æ³•ä½¿ç”¨-helm-ls-å’Œå…¶ä»–-helm-å‘½ä»¤çœ‹åˆ°å®ƒ&#34;&gt;ä½¿ç”¨ Argo CD éƒ¨ç½² Helm åº”ç”¨ç¨‹åºåï¼Œæˆ‘æ— æ³•ä½¿ç”¨ &lt;code&gt;helm ls&lt;/code&gt; å’Œå…¶ä»– Helm å‘½ä»¤çœ‹åˆ°å®ƒ&lt;/h2&gt;
&lt;p&gt;åœ¨éƒ¨ç½² Helm åº”ç”¨ç¨‹åºæ—¶ï¼ŒArgo CD ä»…ä½¿ç”¨ Helm ä½œä¸ºæ¨¡æ¿æœºåˆ¶ã€‚å®ƒè¿è¡Œ &lt;code&gt;helm template&lt;/code&gt;ï¼Œç„¶ååœ¨é›†ç¾¤ä¸Šéƒ¨ç½²ç”Ÿæˆçš„æ¸…å•ï¼Œè€Œä¸æ˜¯æ‰§è¡Œ &lt;code&gt;helm install&lt;/code&gt;ã€‚è¿™æ„å‘³ç€ä½ æ— æ³•ä½¿ç”¨ä»»ä½• Helm å‘½ä»¤æŸ¥çœ‹/éªŒè¯åº”ç”¨ç¨‹åºã€‚å®ƒç”± Argo CD å®Œå…¨ç®¡ç†ã€‚è¯·æ³¨æ„ï¼ŒArgo CD æ”¯æŒä¸€äº› Helm ä¸­å¯èƒ½ç¼ºå°‘çš„æœ¬åœ°åŠŸèƒ½ï¼ˆä¾‹å¦‚å†å²è®°å½•å’Œå›æ»šå‘½ä»¤ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;åšå‡ºè¿™ä¸ªå†³å®šæ˜¯ä¸ºäº†ä½¿ Argo CD å¯¹æ‰€æœ‰æ¸…å•ç”Ÿæˆå™¨éƒ½æ˜¯ä¸­ç«‹çš„ã€‚&lt;/p&gt;
&lt;h2 id=&#34;æˆ‘å·²ç»é…ç½®äº†-cluster-secretä½†æ˜¯åœ¨-cliui-ä¸­æ²¡æœ‰æ˜¾ç¤ºæˆ‘è¯¥å¦‚ä½•ä¿®å¤&#34;&gt;æˆ‘å·²ç»é…ç½®äº† cluster secretï¼Œä½†æ˜¯åœ¨ CLI/UI ä¸­æ²¡æœ‰æ˜¾ç¤ºï¼Œæˆ‘è¯¥å¦‚ä½•ä¿®å¤ï¼Ÿ&lt;/h2&gt;
&lt;p&gt;æ£€æŸ¥é›†ç¾¤æœºå¯†æ˜¯å¦å…·æœ‰ &lt;code&gt;argocd.argoproj.io/secret-type: cluster&lt;/code&gt; æ ‡ç­¾ã€‚å¦‚æœæœºå¯†å…·æœ‰è¯¥æ ‡ç­¾ä½†ä»ç„¶æ— æ³•çœ‹åˆ°é›†ç¾¤ï¼Œåˆ™å¯èƒ½æ˜¯æƒé™é—®é¢˜ã€‚å°è¯•ä½¿ç”¨ &lt;code&gt;admin&lt;/code&gt; ç”¨æˆ·åˆ—å‡ºé›†ç¾¤ ( ä¾‹å¦‚ï¼Œ&lt;code&gt;argocd login --username admin &amp;amp;&amp;amp; argocd cluster list&lt;/code&gt;)ã€‚&lt;/p&gt;
&lt;h2 id=&#34;argo-cd-æ— æ³•è¿æ¥åˆ°æˆ‘çš„é›†ç¾¤æˆ‘è¯¥å¦‚ä½•è¿›è¡Œæ•…éšœæ’é™¤&#34;&gt;Argo CD æ— æ³•è¿æ¥åˆ°æˆ‘çš„é›†ç¾¤ï¼Œæˆ‘è¯¥å¦‚ä½•è¿›è¡Œæ•…éšœæ’é™¤ï¼Ÿ&lt;/h2&gt;
&lt;p&gt;ä½¿ç”¨ä»¥ä¸‹æ­¥éª¤é‡å»ºé…ç½®çš„é›†ç¾¤é…ç½®å¹¶ä½¿ç”¨ kubectl æ‰‹åŠ¨è¿æ¥åˆ°é›†ç¾¤ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; kubectl &lt;span class=&#34;nb&#34;&gt;exec&lt;/span&gt; -it &amp;lt;argocd-pod-name&amp;gt; bash &lt;span class=&#34;c1&#34;&gt;# ssh åˆ°ä»»ä½• argocd æœåŠ¡å™¨ pod&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; argocd admin cluster kubeconfig https://&amp;lt;cluster-url&amp;gt; /tmp/config --namespace argocd &lt;span class=&#34;c1&#34;&gt;# ç”Ÿæˆä½ çš„é›†ç¾¤é…ç½®&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; &lt;span class=&#34;nv&#34;&gt;KUBECONFIG&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/tmp/config kubectl get pods &lt;span class=&#34;c1&#34;&gt;# æ‰‹åŠ¨æµ‹è¯•è¿æ¥&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç°åœ¨ï¼Œä½ å¯ä»¥æ‰‹åŠ¨éªŒè¯ Argo CD pod å¯ä»¥è®¿é—®é›†ç¾¤ã€‚&lt;/p&gt;
&lt;h2 id=&#34;å¦‚ä½•ç»ˆæ­¢åŒæ­¥&#34;&gt;å¦‚ä½•ç»ˆæ­¢åŒæ­¥ï¼Ÿ&lt;/h2&gt;
&lt;p&gt;è¦ç»ˆæ­¢åŒæ­¥ï¼Œè¯·å•å‡»â€œsynchronisationâ€ï¼Œç„¶åå•å‡»â€œterminateâ€ï¼š&lt;/p&gt;
&lt;h2 id=&#34;å³ä½¿åŒæ­¥äº†æˆ‘çš„åº”ç”¨ç¨‹åºä»ç„¶out-of-syncä¸ºä»€ä¹ˆ&#34;&gt;å³ä½¿åŒæ­¥äº†ï¼Œæˆ‘çš„åº”ç”¨ç¨‹åºä»ç„¶â€œOut Of Syncâ€ï¼Œä¸ºä»€ä¹ˆï¼Ÿ&lt;/h2&gt;
&lt;p&gt;åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œä½ ä½¿ç”¨çš„å·¥å…·å¯èƒ½ä¼šé€šè¿‡æ·»åŠ  &lt;code&gt;app.kubernetes.io/instance&lt;/code&gt; æ ‡ç­¾ä¸ Argo CD å†²çªã€‚ä¾‹å¦‚ï¼Œä½¿ç”¨ Kustomize çš„å¸¸è§æ ‡ç­¾åŠŸèƒ½ã€‚&lt;/p&gt;
&lt;p&gt;Argo CD è‡ªåŠ¨è®¾ç½® &lt;code&gt;app.kubernetes.io/instance&lt;/code&gt; æ ‡ç­¾ï¼Œå¹¶ä½¿ç”¨å®ƒæ¥ç¡®å®šå“ªäº›èµ„æºå½¢æˆåº”ç”¨ç¨‹åºã€‚å¦‚æœå·¥å…·ä¹Ÿè¿™æ ·åšï¼Œè¿™ä¼šå¯¼è‡´æ··æ·†ã€‚ä½ å¯ä»¥é€šè¿‡åœ¨ &lt;code&gt;argocd-cm&lt;/code&gt; configmap ä¸­è®¾ç½® &lt;code&gt;application.instanceLabelKey&lt;/code&gt; å€¼æ¥æ›´æ”¹æ­¤æ ‡ç­¾ã€‚æˆ‘ä»¬å»ºè®®ä½ ä½¿ç”¨ &lt;code&gt;argocd.argoproj.io/instance&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;ğŸ”” æç¤ºï¼šæ›´æ”¹æ­¤è®¾ç½®åï¼Œä½ çš„åº”ç”¨ç¨‹åºå°†å˜ä¸ºâ€œä¸åŒæ­¥â€ï¼Œéœ€è¦é‡æ–°åŒæ­¥ã€‚&lt;/p&gt;
&lt;p&gt;è¯·å‚è§ &lt;a href=&#34;https://github.com/argoproj/argo-cd/issues/1482&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;#1482&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;h2 id=&#34;argo-cd-æ¯éš”å¤šé•¿æ—¶é—´æ£€æŸ¥æˆ‘çš„-git-æˆ–-helm-å­˜å‚¨åº“ä¸­çš„æ›´æ”¹&#34;&gt;Argo CD æ¯éš”å¤šé•¿æ—¶é—´æ£€æŸ¥æˆ‘çš„ Git æˆ– Helm å­˜å‚¨åº“ä¸­çš„æ›´æ”¹ï¼Ÿ&lt;/h2&gt;
&lt;p&gt;é»˜è®¤è½®è¯¢é—´éš”ä¸º 3 åˆ†é’Ÿ (180 ç§’)ã€‚ä½ å¯ä»¥é€šè¿‡æ›´æ–° &lt;a href=&#34;https://github.com/argoproj/argo-cd/blob/2d6ce088acd4fb29271ffb6f6023dbb27594d59b/docs/operator-manual/argocd-cm.yaml#L279-L282&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;argocd-cm&lt;/a&gt; config map ä¸­çš„ &lt;code&gt;timeout.reconciliation&lt;/code&gt; å€¼æ¥æ›´æ”¹æ­¤è®¾ç½®ã€‚å¦‚æœæœ‰ä»»ä½• Git æ›´æ”¹ï¼ŒArgoCD ä»…ä¼šæ›´æ–°å¯ç”¨äº† auto-sync setting çš„åº”ç”¨ç¨‹åºã€‚å¦‚æœå°†å…¶è®¾ç½®ä¸º &lt;code&gt;0&lt;/code&gt;ï¼Œåˆ™ Argo CD å°†åœæ­¢è‡ªåŠ¨è½®è¯¢ Git å­˜å‚¨åº“ï¼Œä½ åªèƒ½ä½¿ç”¨æ›¿ä»£æ–¹æ³•ï¼ˆä¾‹å¦‚ webhooks å’Œ/æˆ–æ‰‹åŠ¨åŒæ­¥ï¼‰æ¥éƒ¨ç½²åº”ç”¨ç¨‹åºã€‚&lt;/p&gt;
&lt;h2 id=&#34;ä¸ºä»€ä¹ˆæˆ‘çš„èµ„æºé™åˆ¶ä¸åŒæ­¥&#34;&gt;ä¸ºä»€ä¹ˆæˆ‘çš„èµ„æºé™åˆ¶â€œä¸åŒæ­¥â€ï¼Ÿ&lt;/h2&gt;
&lt;p&gt;Kubernetes åœ¨åº”ç”¨èµ„æºé™åˆ¶æ—¶å¯¹å…¶è¿›è¡Œäº†è§„èŒƒåŒ–ï¼Œç„¶å Argo CD æ¯”è¾ƒäº†ç”Ÿæˆæ¸…å•ä¸­çš„ç‰ˆæœ¬å’Œ K8s ä¸­çš„è§„èŒƒåŒ–ç‰ˆæœ¬ - å®ƒä»¬ä¸ä¼šåŒ¹é…ã€‚&lt;/p&gt;
&lt;p&gt;ä¾‹å¦‚ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;&#39;1000m&#39;&lt;/code&gt; è§„èŒƒåŒ–ä¸º &lt;code&gt;&#39;1&#39;&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;&#39;0.1&#39;&lt;/code&gt; è§„èŒƒåŒ–ä¸º &lt;code&gt;&#39;100m&#39;&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;&#39;3072Mi&#39;&lt;/code&gt; è§„èŒƒåŒ–ä¸º &lt;code&gt;&#39;3Gi&#39;&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;3072&lt;/code&gt; è§„èŒƒåŒ–ä¸º &lt;code&gt;&#39;3072&#39;&lt;/code&gt; (æ·»åŠ å¼•å·)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è¦è§£å†³æ­¤é—®é¢˜ï¼Œè¯·ä½¿ç”¨å·®å¼‚åŒ–è‡ªå®šä¹‰&lt;a href=&#34;../user-guide/diffing/&#34;&gt;è®¾ç½®&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;h2 id=&#34;å¦‚ä½•ä¿®å¤invalid-cookie-longer-than-max-length-4093&#34;&gt;å¦‚ä½•ä¿®å¤â€œinvalid cookie, longer than max length 4093â€ï¼Ÿ&lt;/h2&gt;
&lt;p&gt;Argo CD ä½¿ç”¨ JWT ä½œä¸ºèº«ä»½éªŒè¯ä»¤ç‰Œã€‚ä½ å¯èƒ½æ˜¯è®¸å¤šç»„çš„ä¸€éƒ¨åˆ†ï¼Œå¹¶è¶…è¿‡äº†è®¾ç½®ä¸º cookie çš„ 4KB é™åˆ¶ã€‚ä½ å¯ä»¥é€šè¿‡æ‰“å¼€â€œå¼€å‘äººå‘˜å·¥å…·-&amp;gt;ç½‘ç»œâ€æ¥è·å–ç»„åˆ—è¡¨ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å•å‡»ç™»å½•&lt;/li&gt;
&lt;li&gt;æ‰¾åˆ°è°ƒç”¨ &lt;code&gt;&amp;lt;argocd_instance&amp;gt;/auth/callback?code=&amp;lt;random_string&amp;gt;&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;åœ¨ &lt;a href=&#34;https://jwt.io/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;https://jwt.io/&lt;/a&gt; ä¸Šè§£ç ä»¤ç‰Œã€‚è¿™å°†æä¾›ä½ å¯ä»¥ä»ä¸­åˆ é™¤è‡ªå·±çš„å›¢é˜Ÿåˆ—è¡¨ã€‚&lt;/p&gt;
&lt;p&gt;è¯·å‚è§ &lt;a href=&#34;https://github.com/argoproj/argo-cd/issues/2165&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;#2165&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;h2 id=&#34;åœ¨ä½¿ç”¨-cli-æ—¶ä¸ºä»€ä¹ˆä¼šå‡ºç°rpc-error-code--unavailable-desc--transport-is-closing&#34;&gt;åœ¨ä½¿ç”¨ CLI æ—¶ä¸ºä»€ä¹ˆä¼šå‡ºç°â€œrpc error: code = Unavailable desc = transport is closingâ€ï¼Ÿ&lt;/h2&gt;
&lt;p&gt;ä¹Ÿè®¸ä½ åœ¨ä½¿ç”¨ä¸æ”¯æŒ HTTP 2 çš„ä»£ç†ï¼Ÿå°è¯•ä½¿ç”¨ &lt;code&gt;--grpc-web&lt;/code&gt; æ ‡å¿—ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; argocd ... --grpc-web
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;åœ¨ä½¿ç”¨-cli-æ—¶ä¸ºä»€ä¹ˆä¼šå‡ºç°x509-certificate-signed-by-unknown-authority&#34;&gt;åœ¨ä½¿ç”¨ CLI æ—¶ä¸ºä»€ä¹ˆä¼šå‡ºç°â€œx509: certificate signed by unknown authorityâ€ï¼Ÿ&lt;/h2&gt;
&lt;p&gt;Argo CD é»˜è®¤åˆ›å»ºçš„è¯ä¹¦æœªè¢« Argo CD CLI è‡ªåŠ¨è¯†åˆ«ï¼Œä¸ºäº†åˆ›å»ºå®‰å…¨çš„ç³»ç»Ÿï¼Œä½ å¿…é¡»éµå¾ª&lt;a href=&#34;../operator-manual/tls/&#34;&gt;å®‰è£…è¯ä¹¦&lt;/a&gt;çš„è¯´æ˜ï¼Œå¹¶é…ç½®å®¢æˆ·ç«¯æ“ä½œç³»ç»Ÿä»¥ä¿¡ä»»è¯¥è¯ä¹¦ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœä½ ä¸åœ¨ç”Ÿäº§ç³»ç»Ÿä¸­è¿è¡Œï¼ˆä¾‹å¦‚ï¼Œä½ æ­£åœ¨æµ‹è¯• Argo CDï¼‰ï¼Œè¯·å°è¯•ä½¿ç”¨ &lt;code&gt;--insecure&lt;/code&gt; æ ‡å¿—ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; argocd ... --insecure
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ğŸ”” è­¦å‘Šï¼šä¸è¦åœ¨ç”Ÿäº§ä¸­ä½¿ç”¨ &lt;code&gt;--insecure&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;h2 id=&#34;æˆ‘å·²ç»é€šè¿‡-dexconfig-åœ¨-argocd-cm-ä¸­é…ç½®äº†-dexä½†å®ƒä»ç„¶æ˜¾ç¤º-dex-æœªé…ç½®ä¸ºä»€ä¹ˆ&#34;&gt;æˆ‘å·²ç»é€šè¿‡ &lt;code&gt;dex.config&lt;/code&gt; åœ¨ &lt;code&gt;argocd-cm&lt;/code&gt; ä¸­é…ç½®äº† Dexï¼Œä½†å®ƒä»ç„¶æ˜¾ç¤º Dex æœªé…ç½®ã€‚ä¸ºä»€ä¹ˆï¼Ÿ&lt;/h2&gt;
&lt;p&gt;å¾ˆå¯èƒ½ä½ å¿˜è®°å°† &lt;code&gt;argocd-cm&lt;/code&gt; ä¸­çš„ &lt;code&gt;url&lt;/code&gt; è®¾ç½®ä¸ºæŒ‡å‘ä½ çš„ ArgoCDã€‚å¦è¯·å‚è§ &lt;a href=&#34;../operator-manual/user-management/&#34;&gt;æ–‡æ¡£&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;h2 id=&#34;ä¸ºä»€ä¹ˆsealedsecretèµ„æºä¼šæŠ¥å‘Šstatus&#34;&gt;ä¸ºä»€ä¹ˆ&lt;code&gt;SealedSecret&lt;/code&gt;èµ„æºä¼šæŠ¥å‘Š&lt;code&gt;Status&lt;/code&gt;?&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;SealedSecret&lt;/code&gt;çš„ç‰ˆæœ¬åŒ…æ‹¬&lt;code&gt;v0.15.0&lt;/code&gt;ï¼ˆç‰¹åˆ«æ˜¯é€šè¿‡ helm &lt;code&gt;1.15.0-r3&lt;/code&gt;ï¼‰ä¸åŒ…æ‹¬ç°ä»£ CRDï¼Œå› æ­¤çŠ¶æ€å­—æ®µå°†ä¸ä¼šåœ¨ k8s &lt;code&gt;1.16+&lt;/code&gt;ä¸Šå…¬å¼€ã€‚å¦‚æœä½ çš„ Kubernetes éƒ¨ç½²æ˜¯&lt;a href=&#34;https://www.openshift.com/blog/a-look-into-the-technical-details-of-kubernetes-1-16&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;modern&lt;/a&gt;ï¼Œè¯·ç¡®ä¿ä½¿ç”¨å›ºå®šçš„ CRDï¼Œå¦‚æœä½ æƒ³è¦æ­¤åŠŸèƒ½å·¥ä½œã€‚&lt;/p&gt;
&lt;h2 id=&#34;sealedsecretç±»å‹èµ„æºä¸ºä»€ä¹ˆåœç•™åœ¨progressingçŠ¶æ€ä¸­&#34;&gt;&lt;code&gt;SealedSecret&lt;/code&gt;ç±»å‹èµ„æºä¸ºä»€ä¹ˆåœç•™åœ¨&lt;code&gt;Progressing&lt;/code&gt;çŠ¶æ€ä¸­ï¼Ÿ&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;SealedSecret&lt;/code&gt;èµ„æºçš„æ§åˆ¶å™¨å¯ä»¥åœ¨å®ƒæä¾›çš„èµ„æºä¸Šå…¬å¼€çŠ¶æ€æ¡ä»¶ã€‚è‡ª&lt;code&gt;v2.0.0&lt;/code&gt;ç‰ˆæœ¬ä»¥æ¥ï¼ŒArgoCD ä¼šè·å–è¯¥çŠ¶æ€æ¡ä»¶ä»¥ä¸º&lt;code&gt;SealedSecret&lt;/code&gt;æ¨å¯¼å‡ºå¥åº·çŠ¶æ€ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;SealedSecret&lt;/code&gt;æ§åˆ¶å™¨çš„&lt;code&gt;v0.15.0&lt;/code&gt;ç‰ˆæœ¬ä¹‹å‰å—åˆ°æœ‰å…³æ­¤çŠ¶æ€æ¡ä»¶æ›´æ–°çš„é—®é¢˜çš„å½±å“ï¼Œå› æ­¤åœ¨è¿™äº›ç‰ˆæœ¬ä¸­é»˜è®¤ç¦ç”¨æ­¤åŠŸèƒ½ã€‚å¯ä»¥é€šè¿‡ä½¿ç”¨&lt;code&gt;--update-status&lt;/code&gt;å‘½ä»¤è¡Œå‚æ•°å¯åŠ¨&lt;code&gt;SealedSecret&lt;/code&gt;æ§åˆ¶å™¨æˆ–é€šè¿‡è®¾ç½®&lt;code&gt;SEALED_SECRETS_UPDATE_STATUS&lt;/code&gt;ç¯å¢ƒå˜é‡æ¥å¯ç”¨çŠ¶æ€æ¡ä»¶æ›´æ–°ã€‚&lt;/p&gt;
&lt;p&gt;è¦ç¦ç”¨ ArgoCD æ£€æŸ¥&lt;code&gt;SealedSecret&lt;/code&gt;èµ„æºä¸Šçš„çŠ¶æ€æ¡ä»¶ï¼Œè¯·é€šè¿‡&lt;code&gt;resource.customizations.health.&amp;lt;group_kind&amp;gt;&lt;/code&gt;é”®åœ¨&lt;code&gt;argocd-cm&lt;/code&gt; ConfigMap ä¸­æ·»åŠ ä»¥ä¸‹èµ„æºè‡ªå®šä¹‰ã€‚&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;resource.customizations.health.bitnami.com_SealedSecret: |
 hs = {}
 hs.status = &amp;#34;Healthy&amp;#34;
 hs.message = &amp;#34;Controller doesn&amp;#39;t report resource status&amp;#34;
 return hs
&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&#34;å¦‚ä½•ä¿®å¤the-order-in-patch-list--doesnt-match-setelementorder-list-&#34;&gt;å¦‚ä½•ä¿®å¤&lt;code&gt;The order in patch list â€¦ doesn&#39;t match $setElementOrder list: â€¦&lt;/code&gt;?&lt;/h2&gt;
&lt;p&gt;åº”ç”¨ç¨‹åºå¯èƒ½ä¼šè§¦å‘ä¸€ä¸ªåŒæ­¥é”™è¯¯ï¼Œæ ‡è®°ä¸º&lt;code&gt;ComparisonError&lt;/code&gt;ï¼Œå…¶æ¶ˆæ¯å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;The order in patch list: [map[name:KEY_BC value:150] map[name:KEY_BC value:500] map[name:KEY_BD value:250] map[name:KEY_BD value:500] map[name:KEY_BI value:something]] doesn&amp;rsquo;t match $setElementOrder list: [map[name:KEY_AA] map[name:KEY_AB] map[name:KEY_AC] map[name:KEY_AD] map[name:KEY_AE] map[name:KEY_AF] map[name:KEY_AG] map[name:KEY_AH] map[name:KEY_AI] map[name:KEY_AJ] map[name:KEY_AK] map[name:KEY_AL] map[name:KEY_AM] map[name:KEY_AN] map[name:KEY_AO] map[name:KEY_AP] map[name:KEY_AQ] map[name:KEY_AR] map[name:KEY_AS] map[name:KEY_AT] map[name:KEY_AU] map[name:KEY_AV] map[name:KEY_AW] map[name:KEY_AX] map[name:KEY_AY] map[name:KEY_AZ] map[name:KEY_BA] map[name:KEY_BB] map[name:KEY_BC] map[name:KEY_BD] map[name:KEY_BE] map[name:KEY_BF] map[name:KEY_BG] map[name:KEY_BH] map[name:KEY_BI] map[name:KEY_BC] map[name:KEY_BD]]&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;è¯¥æ¶ˆæ¯æœ‰ä¸¤ä¸ªéƒ¨åˆ†ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;The order in patch list: [&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;è¿™æ ‡è¯†äº†æ¯ä¸ªé¡¹ç›®çš„å€¼ï¼Œç‰¹åˆ«æ˜¯å¤šæ¬¡å‡ºç°çš„é¡¹ç›®çš„å€¼ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;map[name:KEY_BC value:150] map[name:KEY_BC value:500] map[name:KEY_BD value:250] map[name:KEY_BD value:500] map[name:KEY_BI value:something]&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ä½ éœ€è¦ç¡®å®šé‡å¤çš„é”® &amp;ndash; ä½ å¯ä»¥ä¸“æ³¨äºç¬¬ä¸€éƒ¨åˆ†ï¼Œå› ä¸ºæ¯ä¸ªé‡å¤çš„é”®å°†å‡ºç°ï¼Œæ¯ä¸ªå€¼éƒ½ä¸å…¶å€¼ä¸€èµ·å‡ºç°åœ¨ç¬¬ä¸€ä¸ªåˆ—è¡¨ä¸­ã€‚ç¬¬äºŒä¸ªåˆ—è¡¨å®é™…ä¸Šåªæ˜¯&lt;/p&gt;
&lt;p&gt;&lt;code&gt;]&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;doesn&#39;t match $setElementOrder list: [&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;è¿™åŒ…æ‹¬æ‰€æœ‰çš„é”®ã€‚ä¸ºäº†è°ƒè¯•ç›®çš„ï¼Œå®ƒè¢«åŒ…å«åœ¨å†…â€”â€”ä½ ä¸éœ€è¦å¤ªæ³¨æ„å®ƒã€‚å®ƒå°†ä¸ºä½ æä¾›æœ‰å…³é‡å¤é”®çš„ç²¾ç¡®ä½ç½®çš„æç¤ºï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;map[name:KEY_AA] map[name:KEY_AB] map[name:KEY_AC] map[name:KEY_AD] map[name:KEY_AE] map[name:KEY_AF] map[name:KEY_AG] map[name:KEY_AH] map[name:KEY_AI] map[name:KEY_AJ] map[name:KEY_AK] map[name:KEY_AL] map[name:KEY_AM] map[name:KEY_AN] map[name:KEY_AO] map[name:KEY_AP] map[name:KEY_AQ] map[name:KEY_AR] map[name:KEY_AS] map[name:KEY_AT] map[name:KEY_AU] map[name:KEY_AV] map[name:KEY_AW] map[name:KEY_AX] map[name:KEY_AY] map[name:KEY_AZ] map[name:KEY_BA] map[name:KEY_BB] map[name:&lt;strong&gt;KEY_BC&lt;/strong&gt;] map[name:&lt;strong&gt;KEY_BD&lt;/strong&gt;] map[name:KEY_BE] map[name:KEY_BF] map[name:KEY_BG] map[name:KEY_BH] map[name:KEY_BI] map[name:&lt;strong&gt;KEY_BC&lt;/strong&gt;] map[name:&lt;strong&gt;KEY_BD&lt;/strong&gt;]&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;code&gt;]&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œé‡å¤çš„é”®å·²è¢«&lt;strong&gt;åŠ ç²—&lt;/strong&gt;ä»¥å¸®åŠ©ä½ è¯†åˆ«æœ‰é—®é¢˜çš„é”®ã€‚è®¸å¤šç¼–è¾‘å™¨éƒ½æœ‰çªå‡ºæ˜¾ç¤ºæ‰€æœ‰å­—ç¬¦ä¸²å®ä¾‹çš„åŠŸèƒ½ï¼Œä½¿ç”¨è¿™æ ·çš„ç¼–è¾‘å™¨å¯ä»¥å¸®åŠ©è§£å†³æ­¤ç±»é—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;æ­¤é”™è¯¯çš„æœ€å¸¸è§å®ä¾‹æ˜¯é’ˆå¯¹&lt;code&gt;containers&lt;/code&gt;çš„&lt;code&gt;env:&lt;/code&gt;å­—æ®µã€‚&lt;/p&gt;
&lt;div class=&#34;alert-note-title&#34;&gt;
    &lt;p&gt;åŠ¨æ€åº”ç”¨ç¨‹åº&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;alert alert-note&#34;&gt;
    å¯èƒ½ä½ çš„åº”ç”¨ç¨‹åºæ˜¯ç”±å·¥å…·ç”Ÿæˆçš„ï¼Œå› æ­¤åœ¨å•ä¸ªæ–‡ä»¶çš„èŒƒå›´å†…å¯èƒ½ä¸ä¼šæ˜¾ç°å‡ºé‡å¤ã€‚å¦‚æœä½ åœ¨è°ƒè¯•æ­¤é—®é¢˜æ—¶é‡åˆ°éº»çƒ¦ï¼Œè¯·è€ƒè™‘å‘ç”Ÿæˆå™¨å·¥å…·çš„æ‰€æœ‰è€…æäº¤å·¥å•ï¼Œè¦æ±‚ä»–ä»¬æ”¹è¿›å…¶éªŒè¯å’Œé”™è¯¯æŠ¥å‘ŠåŠŸèƒ½ã€‚
&lt;/div&gt;

</description>
    </item>
    
    <item>
      <title>è‡ªåŠ¨åŒæ­¥ç­–ç•¥</title>
      <link>https://lib.jimmysong.io/argo-cd/user-guide/auto-sync/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>https://lib.jimmysong.io/argo-cd/user-guide/auto-sync/</guid>
      <description>&lt;p&gt;Argo CD å…·æœ‰åœ¨æ£€æµ‹åˆ° Git ä¸­æ‰€éœ€æ¸…å•ä¸é›†ç¾¤ä¸­çš„å®é™…çŠ¶æ€ä¹‹é—´å­˜åœ¨å·®å¼‚æ—¶è‡ªåŠ¨åŒæ­¥åº”ç”¨ç¨‹åºçš„åŠŸèƒ½ã€‚è‡ªåŠ¨åŒæ­¥çš„å¥½å¤„æ˜¯ï¼ŒCI/CD ç®¡é“ä¸å†éœ€è¦ç›´æ¥è®¿é—® Argo CD API æœåŠ¡å™¨ä»¥æ‰§è¡Œéƒ¨ç½²ã€‚ç›¸åï¼Œç®¡é“å°†æ›´æ”¹çš„æ¸…å•æäº¤å¹¶æ¨é€åˆ°è·Ÿè¸ª Git å­˜å‚¨åº“ä¸­ã€‚&lt;/p&gt;
&lt;p&gt;è¦é…ç½®è‡ªåŠ¨åŒæ­¥ï¼Œè¯·è¿è¡Œï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; argocd app &lt;span class=&#34;nb&#34;&gt;set&lt;/span&gt; &amp;lt;APPNAME&amp;gt; --sync-policy automated
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æˆ–è€…ï¼Œå¦‚æœåˆ›å»ºåº”ç”¨ç¨‹åºæ¸…å•ï¼Œåˆ™ä½¿ç”¨ &lt;code&gt;automated&lt;/code&gt; ç­–ç•¥æŒ‡å®š syncPolicyã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;spec&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;   &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;syncPolicy&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;     &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;automated&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;{}&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;è‡ªåŠ¨ä¿®æ•´&#34;&gt;è‡ªåŠ¨ä¿®æ•´&lt;/h2&gt;
&lt;p&gt;é»˜è®¤æƒ…å†µä¸‹ï¼ˆä½œä¸ºä¸€ç§å®‰å…¨æœºåˆ¶ï¼‰ï¼Œå½“ Argo CD æ£€æµ‹åˆ°èµ„æºä¸å†åœ¨ Git ä¸­å®šä¹‰æ—¶ï¼Œè‡ªåŠ¨åŒæ­¥ä¸ä¼šåˆ é™¤èµ„æºã€‚å§‹ç»ˆå¯ä»¥æ‰§è¡Œæ‰‹åŠ¨åŒæ­¥ï¼ˆå¹¶æ£€æŸ¥ä¿®æ•´ï¼‰æ¥ä¿®æ•´èµ„æºã€‚ä¹Ÿå¯ä»¥é€šè¿‡è¿è¡Œä»¥ä¸‹å‘½ä»¤è®¾ç½®è‡ªåŠ¨ä¿®æ•´ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; argocd app &lt;span class=&#34;nb&#34;&gt;set&lt;/span&gt; &amp;lt;APPNAME&amp;gt; --auto-prune
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æˆ–é€šè¿‡åœ¨è‡ªåŠ¨åŒæ­¥ç­–ç•¥ä¸­å°† &lt;code&gt;prune&lt;/code&gt; é€‰é¡¹è®¾ç½®ä¸º trueï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;spec&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;   &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;syncPolicy&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;     &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;automated&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;       &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;prune&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;true&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;å¸¦æœ‰å…è®¸ç©ºå€¼çš„è‡ªåŠ¨ä¿®æ•´v18&#34;&gt;&lt;strong&gt;å¸¦æœ‰å…è®¸ç©ºå€¼çš„è‡ªåŠ¨ä¿®æ•´ï¼ˆv1.8ï¼‰&lt;/strong&gt;&lt;/h2&gt;
&lt;p&gt;é»˜è®¤æƒ…å†µä¸‹ï¼ˆä½œä¸ºä¸€ç§å®‰å…¨æœºåˆ¶ï¼‰ï¼Œè‡ªåŠ¨ä¿®æ•´å…·æœ‰ä¿æŠ¤æœºåˆ¶ï¼Œå¯é˜²æ­¢å‡ºç°ä»»ä½•è‡ªåŠ¨åŒ–æˆ–äººä¸ºé”™è¯¯ï¼Œå› ä¸ºæ²¡æœ‰ç›®æ ‡èµ„æºã€‚å®ƒä¼šé˜²æ­¢åº”ç”¨ç¨‹åºå…·æœ‰ç©ºèµ„æºã€‚è¦å…è®¸åº”ç”¨ç¨‹åºå…·æœ‰ç©ºèµ„æºï¼Œè¯·è¿è¡Œï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; argocd app &lt;span class=&#34;nb&#34;&gt;set&lt;/span&gt; &amp;lt;APPNAME&amp;gt; --allow-empty
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æˆ–é€šè¿‡åœ¨è‡ªåŠ¨åŒæ­¥ç­–ç•¥ä¸­å°† allowEmpty é€‰é¡¹è®¾ç½®ä¸º trueï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;spec&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;   &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;syncPolicy&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;     &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;automated&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;       &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;prune&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;true&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;       &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;allowEmpty&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;true&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;è‡ªåŠ¨è‡ªæ„ˆ&#34;&gt;&lt;strong&gt;è‡ªåŠ¨è‡ªæ„ˆ&lt;/strong&gt;&lt;/h2&gt;
&lt;p&gt;é»˜è®¤æƒ…å†µä¸‹ï¼Œå¯¹å®æ—¶é›†ç¾¤è¿›è¡Œçš„æ›´æ”¹ä¸ä¼šè§¦å‘è‡ªåŠ¨åŒæ­¥ã€‚è¦åœ¨å®æ—¶é›†ç¾¤çš„çŠ¶æ€åç¦»åœ¨ Git ä¸­å®šä¹‰çš„çŠ¶æ€æ—¶å¯ç”¨è‡ªåŠ¨åŒæ­¥ï¼Œè¯·è¿è¡Œï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; argocd app &lt;span class=&#34;nb&#34;&gt;set&lt;/span&gt; &amp;lt;APPNAME&amp;gt; --self-heal
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æˆ–é€šè¿‡åœ¨è‡ªåŠ¨åŒæ­¥ç­–ç•¥ä¸­å°† &lt;code&gt;selfHeal&lt;/code&gt; é€‰é¡¹è®¾ç½®ä¸º trueï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;spec&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;   &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;syncPolicy&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;     &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;automated&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;       &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;selfHeal&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;true&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;è‡ªåŠ¨åŒæ­¥è¯­ä¹‰&#34;&gt;&lt;strong&gt;è‡ªåŠ¨åŒæ­¥è¯­ä¹‰&lt;/strong&gt;&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;ä»…å½“åº”ç”¨ç¨‹åºå¤„äº OutOfSync çŠ¶æ€æ—¶ï¼Œæ‰ä¼šæ‰§è¡Œè‡ªåŠ¨åŒæ­¥ã€‚å·²åŒæ­¥æˆ–é”™è¯¯çŠ¶æ€çš„åº”ç”¨ç¨‹åºä¸ä¼šå°è¯•è‡ªåŠ¨åŒæ­¥ã€‚&lt;/li&gt;
&lt;li&gt;è‡ªåŠ¨åŒæ­¥å°†ä»…é’ˆå¯¹æ¯ä¸ªå”¯ä¸€çš„æäº¤ SHA1 å’Œåº”ç”¨ç¨‹åºå‚æ•°ç»„åˆå°è¯•ä¸€æ¬¡åŒæ­¥ã€‚å¦‚æœå†å²è®°å½•ä¸­æœ€è¿‘çš„æˆåŠŸåŒæ­¥å·²ç»é’ˆå¯¹ç›¸åŒçš„æäº¤ SHA å’Œå‚æ•°æ‰§è¡Œï¼Œé‚£ä¹ˆä¸ä¼šå°è¯•ç¬¬äºŒä¸ªåŒæ­¥ï¼Œé™¤éå°† &lt;code&gt;selfHeal&lt;/code&gt; æ ‡å¿—è®¾ç½®ä¸º trueã€‚&lt;/li&gt;
&lt;li&gt;å¦‚æœå°† &lt;code&gt;selfHeal&lt;/code&gt; æ ‡å¿—è®¾ç½®ä¸º trueï¼Œåˆ™åœ¨è‡ªæˆ‘ä¿®å¤è¶…æ—¶ï¼ˆé»˜è®¤ä¸º 5 ç§’ï¼‰ä¹‹åï¼Œå°†å†æ¬¡å°è¯•åŒæ­¥ï¼Œè¯¥è¶…æ—¶ç”± &lt;code&gt;argocd-application-controller&lt;/code&gt; éƒ¨ç½²çš„ &lt;code&gt;self-heal-timeout-seconds&lt;/code&gt; æ ‡å¿—æ§åˆ¶ã€‚&lt;/li&gt;
&lt;li&gt;å¦‚æœä¸Šä¸€ä¸ªåŒæ­¥å°è¯•é’ˆå¯¹ç›¸åŒçš„æäº¤ SHA å’Œå‚æ•°å¤±è´¥ï¼Œåˆ™è‡ªåŠ¨åŒæ­¥ä¸ä¼šé‡æ–°å°è¯•åŒæ­¥ã€‚&lt;/li&gt;
&lt;li&gt;æ— æ³•å¯¹å¯ç”¨äº†è‡ªåŠ¨åŒæ­¥çš„åº”ç”¨ç¨‹åºæ‰§è¡Œå›æ»šã€‚&lt;/li&gt;
&lt;li&gt;è‡ªåŠ¨åŒæ­¥é—´éš”ç”± &lt;code&gt;argocd-cm&lt;/code&gt; ConfigMap ä¸­çš„ &lt;a href=&#34;https://argo-cd.readthedocs.io/en/stable/faq/#how-often-does-argo-cd-check-for-changes-to-my-git-or-helm-repository&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;&lt;code&gt;timeout.reconciliation&lt;/code&gt;&lt;/a&gt; å€¼ç¡®å®šï¼Œé»˜è®¤ä¸º &lt;code&gt;180s&lt;/code&gt;ï¼ˆ3 åˆ†é’Ÿï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
    <item>
      <title>å¯¹æ¯”é€‰é¡¹</title>
      <link>https://lib.jimmysong.io/argo-cd/user-guide/compare-options/</link>
      <pubDate>Fri, 30 Jun 2023 16:00:00 +0800</pubDate>
      <guid>https://lib.jimmysong.io/argo-cd/user-guide/compare-options/</guid>
      <description>&lt;h2 id=&#34;å¿½ç•¥æ— å…³èµ„æº&#34;&gt;å¿½ç•¥æ— å…³èµ„æº&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;v1.1&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œä½ å¯èƒ½å¸Œæœ›ä»åº”ç”¨ç¨‹åºçš„æ•´ä½“åŒæ­¥çŠ¶æ€ä¸­æ’é™¤èµ„æºã€‚ä¾‹å¦‚ã€‚å¦‚æœå®ƒä»¬æ˜¯ç”±å·¥å…·ç”Ÿæˆçš„ã€‚è¿™å¯ä»¥é€šè¿‡åœ¨ä½ æƒ³è¦æ’é™¤çš„èµ„æºä¸Šæ·»åŠ æ­¤æ³¨é‡Šæ¥å®Œæˆï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nt&#34;&gt;metadata&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;annotations&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;argocd.argoproj.io/compare-options&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;IgnoreExtraneous&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;















&lt;figure  id=&#34;figure-å¯¹æ¯”é€‰é¡¹éœ€è¦ä¿®æ•´&#34;&gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img src=&#34;../../assets/compare-option-ignore-needs-pruning.png&#34; alt=&#34;å¯¹æ¯”é€‰é¡¹éœ€è¦ä¿®æ•´&#34; loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;figcaption&gt;
      å¯¹æ¯”é€‰é¡¹éœ€è¦ä¿®æ•´
    &lt;/figcaption&gt;&lt;/figure&gt;
&lt;/p&gt;
&lt;p&gt;ğŸ”” æç¤ºï¼šè¿™ä»…å½±å“åŒæ­¥çŠ¶æ€ã€‚å¦‚æœèµ„æºçš„è¿è¡ŒçŠ¶å†µé™çº§ï¼Œé‚£ä¹ˆåº”ç”¨ç¨‹åºä¹Ÿä¼šé™çº§ã€‚&lt;/p&gt;
&lt;p&gt;Kustomize å…·æœ‰å…è®¸ä½ ç”Ÿæˆé…ç½®æ˜ å°„çš„åŠŸèƒ½ï¼ˆ&lt;a href=&#34;https://github.com/kubernetes-sigs/kustomize/blob/master/examples/configGeneration.md&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;äº†è§£æ›´å¤š&lt;/a&gt;ï¼‰ã€‚ä½ å¯ä»¥è®¾ç½® &lt;code&gt;generatorOptions&lt;/code&gt; æ·»åŠ æ­¤æ³¨é‡Šï¼Œä»¥ä¾¿ä½ çš„åº”ç”¨ä¿æŒåŒæ­¥ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nt&#34;&gt;configMapGenerator&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;- &lt;span class=&#34;nt&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;my-map&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;literals&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;- &lt;span class=&#34;l&#34;&gt;foo=bar&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;generatorOptions&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;annotations&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;argocd.argoproj.io/compare-options&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;IgnoreExtraneous&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;kind&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;Kustomization&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ğŸ”” æç¤ºï¼š&lt;code&gt;generatorOptions&lt;/code&gt; å‘é…ç½®æ˜ å°„å’Œç§˜å¯†æ·»åŠ æ³¨é‡Šï¼ˆ&lt;a href=&#34;https://github.com/kubernetes-sigs/kustomize/blob/master/examples/generatorOptions.md&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;äº†è§£æ›´å¤š&lt;/a&gt;ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;ä½ å¯èƒ½å¸Œæœ›å°†å…¶ä¸ &lt;a href=&#34;../sync-options/&#34;&gt;&lt;code&gt;Prune=false&lt;/code&gt; åŒæ­¥é€‰é¡¹&lt;/a&gt; ç»“åˆèµ·æ¥ã€‚&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>åŒæ­¥é€‰é¡¹ </title>
      <link>https://lib.jimmysong.io/argo-cd/user-guide/sync-options/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>https://lib.jimmysong.io/argo-cd/user-guide/sync-options/</guid>
      <description>&lt;p&gt;Argo CD å…è®¸ç”¨æˆ·å®šåˆ¶åŒæ­¥ç›®æ ‡é›†ç¾¤ä¸­æ‰€éœ€çŠ¶æ€çš„æŸäº›æ–¹é¢ã€‚æŸäº›åŒæ­¥é€‰é¡¹å¯ä»¥å®šä¹‰ä¸ºç‰¹å®šèµ„æºä¸­çš„æ³¨é‡Šã€‚å¤§å¤šæ•°åŒæ­¥é€‰é¡¹åœ¨åº”ç”¨ç¨‹åºèµ„æº &lt;code&gt;spec.syncPolicy.syncOptions&lt;/code&gt; å±æ€§ä¸­é…ç½®ã€‚ä½¿ç”¨ &lt;code&gt;argocd.argoproj.io/sync-options&lt;/code&gt; æ³¨é‡Šé…ç½®çš„å¤šä¸ªåŒæ­¥é€‰é¡¹å¯ä»¥åœ¨æ³¨é‡Šå€¼ä¸­ä½¿ç”¨ &lt;code&gt;,&lt;/code&gt; è¿›è¡Œè¿æ¥ï¼›ç©ºæ ¼å°†è¢«åˆ é™¤ã€‚&lt;/p&gt;
&lt;p&gt;ä¸‹é¢ä½ å¯ä»¥æ‰¾åˆ°æœ‰å…³æ¯ä¸ªå¯ç”¨åŒæ­¥é€‰é¡¹çš„è¯¦ç»†ä¿¡æ¯ï¼š&lt;/p&gt;
&lt;h2 id=&#34;æ— ä¿®æ•´èµ„æº&#34;&gt;æ— ä¿®æ•´èµ„æº&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;v1.1&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ä½ å¯èƒ½å¸Œæœ›é˜²æ­¢ä¿®æ•´å¯¹è±¡ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;metadata&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;   &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;annotations&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;     &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;argocd.argoproj.io/sync-options&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;Prune=false&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;åœ¨ UI ä¸­ï¼ŒPod å°†ä»…æ˜¾ç¤ºä¸ºä¸åŒæ­¥ï¼š&lt;/p&gt;
&lt;p&gt;















&lt;figure  id=&#34;figure-åŒæ­¥é€‰é¡¹æ— ä¿®æ•´&#34;&gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img src=&#34;../../assets/sync-option-no-prune.png&#34; alt=&#34;åŒæ­¥é€‰é¡¹æ— ä¿®æ•´&#34; loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;figcaption&gt;
      åŒæ­¥é€‰é¡¹æ— ä¿®æ•´
    &lt;/figcaption&gt;&lt;/figure&gt;
&lt;/p&gt;
&lt;p&gt;åŒæ­¥çŠ¶æ€é¢æ¿æ˜¾ç¤ºè·³è¿‡ä¿®æ•´çš„åŸå› ï¼š&lt;/p&gt;
&lt;p&gt;















&lt;figure  id=&#34;figure-åŒæ­¥é€‰é¡¹æ— ä¿®æ­£&#34;&gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img src=&#34;../../assets/sync-option-no-prune-sync-status.png&#34; alt=&#34;åŒæ­¥é€‰é¡¹æ— ä¿®æ­£&#34; loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;figcaption&gt;
      åŒæ­¥é€‰é¡¹æ— ä¿®æ­£
    &lt;/figcaption&gt;&lt;/figure&gt;
&lt;/p&gt;
&lt;p&gt;å¦‚æœ Argo CD æœŸæœ›å‰ªåˆ‡èµ„æºï¼Œåˆ™åº”ç”¨ç¨‹åºå°†å¤±å»åŒæ­¥ã€‚ä½ å¯èƒ½å¸Œæœ›ä¸ &lt;a href=&#34;../compare-options/&#34;&gt;æ¯”è¾ƒé€‰é¡¹&lt;/a&gt; ç»“åˆä½¿ç”¨ã€‚&lt;/p&gt;
&lt;h2 id=&#34;ç¦ç”¨-kubectl-éªŒè¯&#34;&gt;&lt;strong&gt;ç¦ç”¨ Kubectl éªŒè¯&lt;/strong&gt;&lt;/h2&gt;
&lt;p&gt;å¯¹äºæŸäº›å¯¹è±¡ç±»ï¼Œéœ€è¦ä½¿ç”¨ &lt;code&gt;--validate=false&lt;/code&gt; æ ‡å¿—ä½¿ç”¨ &lt;code&gt;kubectl apply&lt;/code&gt; å°†å…¶åº”ç”¨ã€‚ä¾‹å¦‚ä½¿ç”¨ &lt;code&gt;RawExtension&lt;/code&gt; çš„ Kubernetes ç±»å‹ï¼Œä¾‹å¦‚ &lt;a href=&#34;https://github.com/kubernetes-incubator/service-catalog/blob/master/pkg/apis/servicecatalog/v1beta1/types.go#L497&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;ServiceCatalog&lt;/a&gt;ã€‚ä½ å¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ³¨é‡Šæ‰§è¡Œæ­¤æ“ä½œï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;metadata&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;   &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;annotations&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;     &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;argocd.argoproj.io/sync-options&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;Validate=false&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å¦‚æœè¦å…¨å±€æ’é™¤æ•´ä¸ªå¯¹è±¡ç±»ï¼Œè¯·è€ƒè™‘åœ¨ ç³»ç»Ÿçº§é…ç½® ä¸­è®¾ç½® &lt;code&gt;resource.customizations&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;h2 id=&#34;è·³è¿‡æ–°çš„è‡ªå®šä¹‰èµ„æºç±»å‹çš„å¹²é¢„è¿è¡Œ&#34;&gt;&lt;strong&gt;è·³è¿‡æ–°çš„è‡ªå®šä¹‰èµ„æºç±»å‹çš„å¹²é¢„è¿è¡Œ&lt;/strong&gt;&lt;/h2&gt;
&lt;p&gt;åœ¨åŒæ­¥å°šæœªçŸ¥é“é›†ç¾¤çš„è‡ªå®šä¹‰èµ„æºæ—¶ï¼Œé€šå¸¸æœ‰ä¸¤ä¸ªé€‰é¡¹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;CRD æ¸…å•æ˜¯åŒæ­¥çš„ä¸€éƒ¨åˆ†ã€‚ç„¶åï¼ŒArgo CD å°†è‡ªåŠ¨è·³è¿‡å¹²é¢„è¿è¡Œï¼Œå°†åº”ç”¨ CRD å¹¶åˆ›å»ºèµ„æºã€‚&lt;/li&gt;
&lt;li&gt;åœ¨æŸäº›æƒ…å†µä¸‹ï¼ŒCRD ä¸æ˜¯åŒæ­¥çš„ä¸€éƒ¨åˆ†ï¼Œä½†å¯ä»¥é€šè¿‡å…¶ä»–æ–¹å¼åˆ›å»ºï¼Œä¾‹å¦‚é€šè¿‡é›†ç¾¤ä¸­çš„æ§åˆ¶å™¨ã€‚ä¾‹å¦‚æ˜¯ &lt;a href=&#34;https://github.com/open-policy-agent/gatekeeper&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;gatekeeper&lt;/a&gt;ï¼Œå®ƒæ ¹æ®ç”¨æˆ·å®šä¹‰çš„ &lt;code&gt;ConstraintTemplates&lt;/code&gt; åˆ›å»º CRDã€‚Argo CD æ— æ³•åœ¨åŒæ­¥ä¸­æ‰¾åˆ° CRDï¼Œå¹¶å°†å‡ºç°é”™è¯¯ &lt;code&gt;the server could not find the requested resource&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;è¦è·³è¿‡ç¼ºå°‘èµ„æºç±»å‹çš„å¹²é¢„è¿è¡Œï¼Œè¯·ä½¿ç”¨ä»¥ä¸‹æ³¨é‡Šï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt; metadata:
   annotations:
     argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;å¦‚æœ CRD å·²ç»å­˜åœ¨äºé›†ç¾¤ä¸­ï¼Œåˆ™ä»å°†æ‰§è¡Œå¹²é¢„è¿è¡Œã€‚&lt;/p&gt;
&lt;h2 id=&#34;æ— èµ„æºåˆ é™¤&#34;&gt;æ— èµ„æºåˆ é™¤&lt;/h2&gt;
&lt;p&gt;å¯¹äºæŸäº›èµ„æºï¼Œä½ å¯èƒ½å¸Œæœ›åœ¨åˆ é™¤åº”ç”¨ç¨‹åºåä»ä¿ç•™å®ƒä»¬ï¼Œä¾‹å¦‚æŒä¹…å·ç´¢èµ”ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä½ å¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ³¨é‡Šé˜»æ­¢åœ¨åˆ é™¤åº”ç”¨ç¨‹åºæ—¶æ¸…é™¤è¿™äº›èµ„æºï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt; metadata:
   annotations:
     argocd.argoproj.io/sync-options: Delete=false
&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&#34;é€‰æ‹©æ€§åŒæ­¥&#34;&gt;é€‰æ‹©æ€§åŒæ­¥&lt;/h2&gt;
&lt;p&gt;å½“å‰ï¼Œåœ¨ä½¿ç”¨è‡ªåŠ¨åŒæ­¥è¿›è¡ŒåŒæ­¥æ—¶ï¼ŒArgo CD åº”ç”¨ç¨‹åºä¸­çš„æ¯ä¸ªå¯¹è±¡éƒ½ä¼šåº”ç”¨ã€‚å¯¹äºåŒ…å«æ•°åƒä¸ªå¯¹è±¡çš„åº”ç”¨ç¨‹åºï¼Œè¿™éœ€è¦ç›¸å½“é•¿çš„æ—¶é—´ï¼Œå¹¶å¯¹ API æœåŠ¡å™¨æ–½åŠ ä¸å¿…è¦çš„å‹åŠ›ã€‚æ‰“å¼€é€‰æ‹©æ€§åŒæ­¥é€‰é¡¹ï¼Œä»…åŒæ­¥ä¸åŒæ­¥çš„èµ„æºã€‚&lt;/p&gt;
&lt;p&gt;ä½ å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼æ·»åŠ æ­¤é€‰é¡¹&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;åœ¨æ¸…å•ä¸­æ·»åŠ  &lt;code&gt;ApplyOutOfSyncOnly=true&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ç¤ºä¾‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;apiVersion&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;argoproj.io/v1alpha1&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;kind&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;Application&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;spec&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;   &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;syncPolicy&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;     &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;syncOptions&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;     &lt;/span&gt;- &lt;span class=&#34;l&#34;&gt;ApplyOutOfSyncOnly=true&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;é€šè¿‡ argocd cli è®¾ç½®åŒæ­¥é€‰é¡¹&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ç¤ºä¾‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; $ argocd app &lt;span class=&#34;nb&#34;&gt;set&lt;/span&gt; guestbook --sync-option &lt;span class=&#34;nv&#34;&gt;ApplyOutOfSyncOnly&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;true&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;èµ„æºä¿®æ•´åˆ é™¤ä¼ æ’­ç­–ç•¥&#34;&gt;èµ„æºä¿®æ•´åˆ é™¤ä¼ æ’­ç­–ç•¥&lt;/h2&gt;
&lt;p&gt;é»˜è®¤æƒ…å†µä¸‹ï¼Œä½¿ç”¨å‰å°åˆ é™¤ç­–ç•¥åˆ é™¤å¤šä½™çš„èµ„æºã€‚å¯ä»¥æ§åˆ¶ä¼ æ’­ç­–ç•¥ ä½¿ç”¨ &lt;code&gt;PrunePropagationPolicy&lt;/code&gt; åŒæ­¥é€‰é¡¹ã€‚æ”¯æŒçš„ç­–ç•¥æ˜¯ backgroundã€foreground å’Œ orphanã€‚æœ‰å…³è¿™äº›ç­–ç•¥çš„æ›´å¤šä¿¡æ¯å¯ä»¥åœ¨ &lt;a href=&#34;https://kubernetes.io/docs/concepts/workloads/controllers/garbage-collection/#controlling-how-the-garbage-collector-deletes-dependents&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;è¿™é‡Œ&lt;/a&gt; æ‰¾åˆ°ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;apiVersion&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;argoproj.io/v1alpha1&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;kind&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;Application&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;spec&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;   &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;syncPolicy&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;     &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;syncOptions&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;     &lt;/span&gt;- &lt;span class=&#34;l&#34;&gt;PrunePropagationPolicy=foreground&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;ä¿®æ•´æœ€å&#34;&gt;ä¿®æ•´æœ€å&lt;/h2&gt;
&lt;p&gt;æ­¤åŠŸèƒ½æ˜¯ä¸ºäº†å…è®¸åœ¨åŒæ­¥æ“ä½œçš„æœ€åä¸€ä¸ªéšå¼æ³¢ä¹‹åï¼Œå¯¹èµ„æºè¿›è¡Œä¿®æ•´ï¼Œåœ¨å…¶ä»–èµ„æºå·²éƒ¨ç½²å¹¶å˜å¾—å¥åº·ä¹‹åï¼Œæ‰€æœ‰å…¶ä»–æ³¢æˆåŠŸå®Œæˆä¹‹åã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;apiVersion&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;argoproj.io/v1alpha1&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;kind&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;Application&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;spec&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;   &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;syncPolicy&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;     &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;syncOptions&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;     &lt;/span&gt;- &lt;span class=&#34;l&#34;&gt;PruneLast=true&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿™ä¹Ÿå¯ä»¥åœ¨ä¸ªä½“èµ„æºçº§åˆ«è¿›è¡Œé…ç½®ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nt&#34;&gt;metadata&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;annotations&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;argocd.argoproj.io/sync-options&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;PruneLast=true&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;æ›¿æ¢èµ„æºè€Œä¸æ˜¯åº”ç”¨æ›´æ”¹&#34;&gt;æ›¿æ¢èµ„æºè€Œä¸æ˜¯åº”ç”¨æ›´æ”¹&lt;/h2&gt;
&lt;p&gt;é»˜è®¤æƒ…å†µä¸‹ï¼ŒArgo CD æ‰§è¡Œ &lt;code&gt;kubectl apply&lt;/code&gt; æ“ä½œä»¥åº”ç”¨å­˜å‚¨åœ¨ Git ä¸­çš„é…ç½®ã€‚åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œ &lt;code&gt;kubectl apply&lt;/code&gt; ä¸é€‚ç”¨ã€‚ä¾‹å¦‚ï¼Œèµ„æºè§„èŒƒå¯èƒ½å¤ªå¤§ï¼Œæ— æ³•é€‚åˆ æ·»åŠ çš„ &lt;code&gt;kubectl.kubernetes.io/last-applied-configuration&lt;/code&gt; æ³¨é‡Šã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä½  å¯èƒ½ä¼šä½¿ç”¨ &lt;code&gt;Replace=true&lt;/code&gt; åŒæ­¥é€‰é¡¹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nt&#34;&gt;apiVersion&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;argoproj.io/v1alpha1&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;kind&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;Application&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;spec&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;syncPolicy&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;syncOptions&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;- &lt;span class=&#34;l&#34;&gt;Replace=true&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å¦‚æœè®¾ç½®äº† &lt;code&gt;Replace=true&lt;/code&gt; åŒæ­¥é€‰é¡¹ï¼ŒArgo CD å°†ä½¿ç”¨ &lt;code&gt;kubectl replace&lt;/code&gt; æˆ– &lt;code&gt;kubectl create&lt;/code&gt; å‘½ä»¤æ¥åº”ç”¨æ›´æ”¹ã€‚&lt;/p&gt;
&lt;p&gt;ğŸ”” è­¦å‘Šï¼šåœ¨åŒæ­¥è¿‡ç¨‹ä¸­ï¼Œèµ„æºå°†ä½¿ç”¨ &amp;lsquo;kubectl replace/create&amp;rsquo; å‘½ä»¤è¿›è¡ŒåŒæ­¥ã€‚æ­¤åŒæ­¥é€‰é¡¹å…·æœ‰ç ´åæ€§ï¼Œå¯èƒ½å¯¼è‡´å¿…é¡»é‡æ–°åˆ›å»ºèµ„æºï¼Œä»è€Œå¯èƒ½å¯¼è‡´ä½ çš„åº”ç”¨ç¨‹åºåœæœºã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä¹Ÿå¯ä»¥åœ¨å•ä¸ªèµ„æºçº§åˆ«è¿›è¡Œé…ç½®ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nt&#34;&gt;metadata&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;annotations&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;argocd.argoproj.io/sync-options&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;Replace=true&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;æœåŠ¡å™¨ç«¯åº”ç”¨&#34;&gt;æœåŠ¡å™¨ç«¯åº”ç”¨&lt;/h2&gt;
&lt;p&gt;æ­¤é€‰é¡¹å¯ç”¨ Kubernetes &lt;a href=&#34;https://kubernetes.io/docs/reference/using-api/server-side-apply/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;æœåŠ¡å™¨ç«¯åº”ç”¨&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;p&gt;é»˜è®¤æƒ…å†µä¸‹ï¼ŒArgo CD æ‰§è¡Œ &lt;code&gt;kubectl apply&lt;/code&gt; æ“ä½œä»¥åº”ç”¨å­˜å‚¨åœ¨ Git ä¸­çš„é…ç½®ã€‚è¿™æ˜¯ä¸€ä¸ªå®¢æˆ·ç«¯æ“ä½œï¼Œä¾èµ–äº &lt;code&gt;kubectl.kubernetes.io/last-applied-configuration&lt;/code&gt; æ³¨é‡Šä»¥å­˜å‚¨ä¸Šä¸€ä¸ªèµ„æºçŠ¶æ€ã€‚&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯ï¼Œæœ‰äº›æƒ…å†µä¸‹ï¼Œä½ å¸Œæœ›ä½¿ç”¨ &lt;code&gt;kubectl apply --server-side&lt;/code&gt; è€Œä¸æ˜¯ &lt;code&gt;kubectl apply&lt;/code&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;èµ„æºå¤ªå¤§ï¼Œæ— æ³•é€‚åº”å…è®¸çš„æ³¨é‡Šå¤§å° 262144 å­—èŠ‚ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå¯ä»¥ä½¿ç”¨æœåŠ¡å™¨ç«¯åº”ç”¨ç¨‹åºæ¥é¿å…æ­¤é—®é¢˜ï¼Œå› ä¸ºåœ¨æ­¤æƒ…å†µä¸‹ä¸ä½¿ç”¨æ³¨é‡Šã€‚&lt;/li&gt;
&lt;li&gt;å¯¹é›†ç¾¤ä¸Šä¸å®Œå…¨ç”± Argo CD ç®¡ç†çš„ç°æœ‰èµ„æºè¿›è¡Œä¿®è¡¥ã€‚&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨æ›´å…·å£°æ˜æ€§çš„æ–¹æ³•ï¼Œå®ƒè·Ÿè¸ªç”¨æˆ·çš„å­—æ®µç®¡ç†ï¼Œè€Œä¸æ˜¯ç”¨æˆ·çš„ä¸Šä¸€æ¬¡åº”ç”¨çŠ¶æ€ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å¦‚æœè®¾ç½®äº† &lt;code&gt;ServerSideApply=true&lt;/code&gt; åŒæ­¥é€‰é¡¹ï¼ŒArgo CD å°†ä½¿ç”¨ &lt;code&gt;kubectl apply --server-side&lt;/code&gt; å‘½ä»¤æ¥åº”ç”¨æ›´æ”¹ã€‚&lt;/p&gt;
&lt;p&gt;å®ƒå¯ä»¥åœ¨åº”ç”¨ç¨‹åºçº§åˆ«å¯ç”¨ï¼Œå¦‚ä¸‹ä¾‹æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nt&#34;&gt;apiVersion&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;argoproj.io/v1alpha1&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;kind&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;Application&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;spec&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;syncPolicy&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;syncOptions&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;- &lt;span class=&#34;l&#34;&gt;ServerSideApply=true&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¦ä¸ºå•ä¸ªèµ„æºå¯ç”¨ ServerSideApplyï¼Œå¯ä»¥ä½¿ç”¨ sync-option æ³¨é‡Šï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nt&#34;&gt;metadata&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;annotations&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;argocd.argoproj.io/sync-options&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;ServerSideApply=true&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ServerSideApply è¿˜å¯ç”¨äºé€šè¿‡æä¾›éƒ¨åˆ† yaml æ¥ä¿®è¡¥ç°æœ‰èµ„æºã€‚ä¾‹å¦‚ï¼Œå¦‚æœæœ‰ä¸€ä¸ªè¦æ±‚ä»…æ›´æ–°ç»™å®šéƒ¨ç½²ä¸­çš„å‰¯æœ¬æ•°çš„éƒ¨ç½²ï¼Œå¯ä»¥å‘ Argo CD æä¾›ä»¥ä¸‹ yamlï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nt&#34;&gt;apiVersion&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;apps/v1&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;kind&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;Deployment&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;metadata&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;my-deployment&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;spec&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;replicas&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¯·æ³¨æ„ï¼Œæ ¹æ®éƒ¨ç½²æ¨¡å¼è§„èŒƒï¼Œè¿™ä¸æ˜¯æœ‰æ•ˆçš„æ¸…å•ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå¿…é¡»æä¾›ä¸€ä¸ªé¢å¤–çš„åŒæ­¥é€‰é¡¹ &lt;em&gt;å¿…é¡»&lt;/em&gt; ä»¥è·³è¿‡æ¨¡å¼éªŒè¯ã€‚ä¸‹é¢çš„ç¤ºä¾‹æ˜¾ç¤ºäº†å¦‚ä½•é…ç½®åº”ç”¨ç¨‹åºä»¥å¯ç”¨ä¸¤ä¸ªå¿…è¦çš„åŒæ­¥é€‰é¡¹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nt&#34;&gt;apiVersion&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;argoproj.io/v1alpha1&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;kind&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;Application&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;spec&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;syncPolicy&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;syncOptions&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;- &lt;span class=&#34;l&#34;&gt;ServerSideApply=true&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;- &lt;span class=&#34;l&#34;&gt;Validate=false&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;åœ¨è¿™ç§æƒ…å†µä¸‹ï¼ŒArgo CD å°†ä½¿ç”¨ &lt;code&gt;kubectl apply --server-side --validate=false&lt;/code&gt; å‘½ä»¤åº”ç”¨æ›´æ”¹ã€‚&lt;/p&gt;
&lt;p&gt;æ³¨æ„ï¼š&lt;code&gt;Replace=true&lt;/code&gt; ä¼˜å…ˆäº &lt;code&gt;ServerSideApply=true&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;h2 id=&#34;å¦‚æœå‘ç°å…±äº«èµ„æºåˆ™åŒæ­¥å¤±è´¥&#34;&gt;å¦‚æœå‘ç°å…±äº«èµ„æºï¼Œåˆ™åŒæ­¥å¤±è´¥&lt;/h2&gt;
&lt;p&gt;é»˜è®¤æƒ…å†µä¸‹ï¼ŒArgo CD å°†åº”ç”¨åœ¨ Application ä¸­é…ç½®çš„ Git è·¯å¾„ä¸­æ‰¾åˆ°çš„æ‰€æœ‰æ¸…å•ï¼Œè€Œä¸ç®¡ yamls ä¸­å®šä¹‰çš„èµ„æºæ˜¯å¦å·²è¢«å¦ä¸€ä¸ªåº”ç”¨ç¨‹åºåº”ç”¨ã€‚å¦‚æœè®¾ç½®äº† &lt;code&gt;FailOnSharedResource&lt;/code&gt; åŒæ­¥é€‰é¡¹ï¼Œåˆ™åœ¨å½“å‰åº”ç”¨ç¨‹åºä¸­å‘ç°å·²ç”±å¦ä¸€ä¸ªåº”ç”¨ç¨‹åºåœ¨é›†ç¾¤ä¸­åº”ç”¨çš„èµ„æºæ—¶ï¼ŒArgo CD å°†ä½¿åŒæ­¥å¤±è´¥ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nt&#34;&gt;apiVersion&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;argoproj.io/v1alpha1&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;kind&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;Application&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;spec&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;syncPolicy&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;syncOptions&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;- &lt;span class=&#34;l&#34;&gt;FailOnSharedResource=true&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;å°Šé‡å¿½ç•¥å·®å¼‚é…ç½®&#34;&gt;å°Šé‡å¿½ç•¥å·®å¼‚é…ç½®&lt;/h2&gt;
&lt;p&gt;æ­¤åŒæ­¥é€‰é¡¹ç”¨äºä½¿ Argo CD åœ¨åŒæ­¥é˜¶æ®µæœŸé—´ä¹Ÿè€ƒè™‘ &lt;code&gt;spec.ignoreDifferences&lt;/code&gt; å±æ€§ä¸­æ‰€åšçš„é…ç½®ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼ŒArgo CD ä»…ä½¿ç”¨ &lt;code&gt;ignoreDifferences&lt;/code&gt; é…ç½®æ¥è®¡ç®—å®é™…çŠ¶æ€å’ŒæœŸæœ›çŠ¶æ€ä¹‹é—´çš„å·®å¼‚ï¼Œä»è€Œå®šä¹‰åº”ç”¨ç¨‹åºæ˜¯å¦å·²åŒæ­¥ã€‚ä½†æ˜¯ï¼Œåœ¨åŒæ­¥é˜¶æ®µæœŸé—´ï¼Œå°†æŒ‰åŸæ ·åº”ç”¨æœŸæœ›çŠ¶æ€ã€‚ä½¿ç”¨ä¸‰æ–¹åˆå¹¶è®¡ç®—è¡¥ä¸ï¼Œå…¶ä¸­åŒ…æ‹¬å®é™…çŠ¶æ€ã€æœŸæœ›çŠ¶æ€å’Œ &lt;code&gt;last-applied-configuration&lt;/code&gt; æ³¨é‡Šã€‚è¿™æœ‰æ—¶ä¼šå¯¼è‡´ä¸å¸Œæœ›çš„ç»“æœã€‚å¯ä»¥é€šè¿‡å°† &lt;code&gt;RespectIgnoreDifferences=true&lt;/code&gt; åŒæ­¥é€‰é¡¹è®¾ç½®å¦‚ä¸‹æ¥æ›´æ”¹æ­¤è¡Œä¸ºï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nt&#34;&gt;apiVersion&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;argoproj.io/v1alpha1&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;kind&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;Application&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;spec&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;ignoreDifferences&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;- &lt;span class=&#34;nt&#34;&gt;group&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;apps&amp;#34;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;kind&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;Deployment&amp;#34;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;jsonPointers&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;- &lt;span class=&#34;l&#34;&gt;/spec/replicas&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;syncPolicy&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;syncOptions&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;- &lt;span class=&#34;l&#34;&gt;RespectIgnoreDifferences=true&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä¸Šé¢çš„ç¤ºä¾‹æ˜¾ç¤ºäº†å¦‚ä½•é…ç½® Argo CD åº”ç”¨ç¨‹åºï¼Œä»¥ä¾¿åœ¨åŒæ­¥é˜¶æ®µæœŸé—´å®ƒå°†å¿½ç•¥æœŸæœ›çŠ¶æ€ï¼ˆgitï¼‰ä¸­çš„ &lt;code&gt;spec.replicas&lt;/code&gt; å­—æ®µã€‚è¿™æ˜¯é€šè¿‡åœ¨åº”ç”¨ä¹‹å‰è®¡ç®—å’Œé¢„æ‰“è¡¥ä¸æœŸæœ›çŠ¶æ€æ¥å®ç°çš„ã€‚è¯·æ³¨æ„ï¼Œä»…å½“èµ„æºå·²åœ¨é›†ç¾¤ä¸­åˆ›å»ºæ—¶ï¼Œ&lt;code&gt;RespectIgnoreDifferences&lt;/code&gt; åŒæ­¥é€‰é¡¹æ‰æœ‰æ•ˆã€‚å¦‚æœæ­£åœ¨åˆ›å»ºåº”ç”¨ç¨‹åºå¹¶ä¸”ä¸å­˜åœ¨å®é™…çŠ¶æ€ï¼Œåˆ™æœŸæœ›çŠ¶æ€å°†æŒ‰åŸæ ·åº”ç”¨ã€‚&lt;/p&gt;
&lt;h2 id=&#34;åˆ›å»ºå‘½åç©ºé—´&#34;&gt;åˆ›å»ºå‘½åç©ºé—´&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nt&#34;&gt;apiVersion&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;argoproj.io/v1alpha1&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;kind&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;Application&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;metadata&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;namespace&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;argocd&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;spec&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;destination&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;server&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;https://kubernetes.default.svc&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;namespace&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;some-namespace&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;syncPolicy&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;syncOptions&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;- &lt;span class=&#34;l&#34;&gt;CreateNamespace=true&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä¸Šé¢çš„ç¤ºä¾‹æ˜¾ç¤ºäº†å¦‚ä½•é…ç½® Argo CD åº”ç”¨ç¨‹åºï¼Œä»¥ä¾¿åœ¨ä¸å­˜åœ¨æ—¶åˆ›å»º &lt;code&gt;spec.destination.namespace&lt;/code&gt; ä¸­æŒ‡å®šçš„å‘½åç©ºé—´ã€‚å¦‚æœä¸åœ¨åº”ç”¨ç¨‹åºæ¸…å•ä¸­å£°æ˜æ­¤é€‰é¡¹æˆ–é€šè¿‡ &lt;code&gt;--sync-option CreateNamespace=true&lt;/code&gt; é€šè¿‡ CLI ä¼ é€’ï¼Œåº”ç”¨ç¨‹åºå°†æ— æ³•åŒæ­¥ï¼Œå¦‚æœå‘½åç©ºé—´ä¸å­˜åœ¨ã€‚&lt;/p&gt;
&lt;p&gt;è¯·æ³¨æ„ï¼Œè¦åˆ›å»ºçš„å‘½åç©ºé—´å¿…é¡»åœ¨ Application èµ„æºçš„ &lt;code&gt;spec.destination.namespace&lt;/code&gt; å­—æ®µä¸­è¿›è¡Œé€šçŸ¥ã€‚åº”ç”¨ç¨‹åºçš„å­æ¸…å•ä¸­çš„ &lt;code&gt;metadata.namespace&lt;/code&gt; å­—æ®µå¿…é¡»ä¸æ­¤å€¼åŒ¹é…ï¼Œæˆ–è€…å¯ä»¥çœç•¥ï¼Œä»¥ä¾¿åœ¨é€‚å½“çš„ç›®æ ‡ä¸­åˆ›å»ºèµ„æºã€‚&lt;/p&gt;
&lt;h3 id=&#34;å‘½åç©ºé—´å…ƒæ•°æ®&#34;&gt;å‘½åç©ºé—´å…ƒæ•°æ®&lt;/h3&gt;
&lt;p&gt;æˆ‘ä»¬è¿˜å¯ä»¥é€šè¿‡ &lt;code&gt;managedNamespaceMetadata&lt;/code&gt; å‘å‘½åç©ºé—´æ·»åŠ æ ‡ç­¾å’Œæ³¨é‡Šã€‚å¦‚æœæˆ‘ä»¬æ‰©å±•ä¸Šé¢çš„ç¤ºä¾‹ï¼Œæˆ‘ä»¬å¯ä»¥åƒä¸‹é¢è¿™æ ·åšï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nt&#34;&gt;apiVersion&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;argoproj.io/v1alpha1&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;kind&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;Application&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;metadata&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;namespace&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;test&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;spec&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;syncPolicy&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;managedNamespaceMetadata&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;labels&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;# è¦è®¾ç½®åœ¨åº”ç”¨ç¨‹åºå‘½åç©ºé—´ä¸Šçš„æ ‡ç­¾&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;any&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;label&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;you&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;like&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;annotations&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;# è¦è®¾ç½®åœ¨åº”ç”¨ç¨‹åºå‘½åç©ºé—´ä¸Šçš„æ³¨é‡Š&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;the&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;same&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;applies&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;for&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;annotations&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;on&lt;/span&gt;-&lt;span class=&#34;l&#34;&gt;the-namespace&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;syncOptions&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;- &lt;span class=&#34;l&#34;&gt;CreateNamespace=true&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä¸ºäº†ä½¿ ArgoCD ç®¡ç†å‘½åç©ºé—´ä¸Šçš„æ ‡ç­¾å’Œæ³¨é‡Šï¼Œéœ€è¦å°† &lt;code&gt;CreateNamespace=true&lt;/code&gt; è®¾ç½®ä¸ºåŒæ­¥é€‰é¡¹ï¼Œå¦åˆ™ä»€ä¹ˆä¹Ÿä¸ä¼šå‘ç”Ÿã€‚å¦‚æœå‘½åç©ºé—´ä¸å­˜åœ¨ï¼Œæˆ–è€…å¦‚æœå·²ç»å­˜åœ¨ä¸”æ²¡æœ‰åœ¨å…¶ä¸Šè®¾ç½®æ ‡ç­¾å’Œ/æˆ–æ³¨é‡Šï¼Œåˆ™å¯ä»¥ç»§ç»­æ‰§è¡Œã€‚ä½¿ç”¨ &lt;code&gt;managedNamespaceMetadata&lt;/code&gt; è¿˜å°†åœ¨å‘½åç©ºé—´ä¸Šè®¾ç½®èµ„æºè·Ÿè¸ªæ ‡ç­¾ï¼ˆæˆ–æ³¨é‡Šï¼‰ï¼Œå› æ­¤ä½ å¯ä»¥è½»æ¾è·Ÿè¸ªç”± ArgoCD ç®¡ç†çš„å‘½åç©ºé—´ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨ ArgoCD ç®¡ç†çš„æ ‡ç­¾å’Œæ³¨é‡Šä¸Šä¸‹æ–‡ä¸­ï¼Œå¦‚æœä½ æ²¡æœ‰è‡ªå®šä¹‰æ³¨é‡Šæˆ–æ ‡ç­¾ï¼Œä½†ä»å¸Œæœ›æœ‰èµ„æºè·Ÿè¸ªè®¾ç½®åœ¨ä½ çš„å‘½åç©ºé—´ä¸Šï¼Œé‚£å¯ä»¥é€šè¿‡å°† &lt;code&gt;managedNamespaceMetadata&lt;/code&gt; ä¸ç©ºçš„ &lt;code&gt;labels&lt;/code&gt; å’Œ/æˆ– &lt;code&gt;annotations&lt;/code&gt; æ˜ å°„æ¥å®Œæˆï¼Œå¦‚ä¸‹ä¾‹æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nt&#34;&gt;apiVersion&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;argoproj.io/v1alpha1&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;kind&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;Application&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;metadata&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;namespace&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;test&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;spec&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;syncPolicy&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;managedNamespaceMetadata&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;labels&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;# è¦è®¾ç½®åœ¨åº”ç”¨ç¨‹åºå‘½åç©ºé—´ä¸Šçš„æ ‡ç­¾&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;annotations&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;# è¦è®¾ç½®åœ¨åº”ç”¨ç¨‹åºå‘½åç©ºé—´ä¸Šçš„æ³¨é‡Š&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;syncOptions&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;- &lt;span class=&#34;l&#34;&gt;CreateNamespace=true&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;åœ¨ ArgoCD &amp;ldquo;é‡‡ç”¨&amp;rdquo; å·²ç»å…·æœ‰åœ¨å…¶ä¸Šè®¾ç½®å…ƒæ•°æ®çš„ç°æœ‰å‘½åç©ºé—´çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä¾èµ–ä½¿ç”¨æœåŠ¡å™¨ç«¯åº”ç”¨ç¨‹åºï¼Œä»¥ä¾¿ä¸ä¼šä¸¢å¤±å·²ç»è®¾ç½®çš„å…ƒæ•°æ®ã€‚è¿™é‡Œçš„ä¸»è¦å½±å“æ˜¯éœ€è¦å‡ ä¸ªé¢å¤–çš„æ­¥éª¤æ‰èƒ½æ‘†è„±å·²ç»å­˜åœ¨çš„å­—æ®µã€‚&lt;/p&gt;
&lt;p&gt;æƒ³è±¡ä¸€ä¸‹æˆ‘ä»¬æœ‰ä¸€ä¸ªé¢„å…ˆå­˜åœ¨çš„å‘½åç©ºé—´ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nt&#34;&gt;apiVersion&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;v1&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;kind&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;Namespace&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;metadata&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;foobar&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;annotations&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;foo&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;bar&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;abc&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;123&amp;#34;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å¦‚æœæˆ‘ä»¬æƒ³è¦ä½¿ç”¨ ArgoCD ç®¡ç† &lt;code&gt;foobar&lt;/code&gt; å‘½åç©ºé—´ï¼Œç„¶åè¿˜è¦åˆ é™¤ &lt;code&gt;foo: bar&lt;/code&gt; æ³¨é‡Šï¼Œåˆ™åœ¨ &lt;code&gt;managedNamespaceMetadata&lt;/code&gt; ä¸­ï¼Œæˆ‘ä»¬éœ€è¦å…ˆé‡å‘½å &lt;code&gt;foo&lt;/code&gt; å€¼ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nt&#34;&gt;apiVersion&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;argoproj.io/v1alpha1&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;kind&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;Application&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;spec&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;syncPolicy&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;managedNamespaceMetadata&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;annotations&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;abc&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;123&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;# è¿™ä¸ªæ˜¯ SSA ä¸­çš„ä¿¡æ¯ï¼Œæ— è®ºå¦‚ä½•åœ¨ä»»ä½•æƒ…å†µä¸‹éƒ½ä¼šä¿ç•™ï¼Œç›´åˆ°æˆ‘ä»¬è®¾ç½®æ–°å€¼&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;foo&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;remove-me&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;syncOptions&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;- &lt;span class=&#34;l&#34;&gt;CreateNamespace=true&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;åŒæ­¥åï¼Œæˆ‘ä»¬å¯ä»¥åˆ é™¤ &lt;code&gt;foo&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nt&#34;&gt;apiVersion&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;argoproj.io/v1alpha1&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;kind&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;Application&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;spec&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;syncPolicy&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;managedNamespaceMetadata&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;annotations&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;abc&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;123&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;# è¿™ä¸ªæ˜¯ SSA ä¸­çš„ä¿¡æ¯ï¼Œæ— è®ºå¦‚ä½•åœ¨ä»»ä½•æƒ…å†µä¸‹éƒ½ä¼šä¿ç•™ï¼Œç›´åˆ°æˆ‘ä»¬è®¾ç½®æ–°å€¼&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;syncOptions&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;- &lt;span class=&#34;l&#34;&gt;CreateNamespace=true&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å¦ä¸€ä¸ªè¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœä½ åœ¨ ArgoCD åº”ç”¨ç¨‹åºä¸­æœ‰ä¸€ä¸ªä¸å‘½åç©ºé—´çš„ k8s æ¸…å•ç›¸åŒçš„ k8s æ¸…å•ï¼Œé‚£ä¹ˆå®ƒå°†ä¼˜å…ˆäº &lt;code&gt;managedNamespaceMetadata&lt;/code&gt; ä¸­è®¾ç½®çš„ä»»ä½•å€¼ï¼Œå¹¶å°† &lt;em&gt;è¦†ç›–åœ¨ &lt;code&gt;managedNamespaceMetadata&lt;/code&gt; ä¸­è®¾ç½®çš„ä»»ä½•å€¼&lt;/em&gt;ã€‚æ¢å¥è¯è¯´ï¼Œå¦‚æœä½ æœ‰ä¸€ä¸ªåº”ç”¨ç¨‹åºè®¾ç½®äº† &lt;code&gt;managedNamespaceMetadata&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nt&#34;&gt;apiVersion&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;argoproj.io/v1alpha1&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;kind&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;Application&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;spec&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;syncPolicy&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;managedNamespaceMetadata&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;annotations&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;abc&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;123&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;syncOptions&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;- &lt;span class=&#34;l&#34;&gt;CreateNamespace=true&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä½†æ˜¯ä½ è¿˜æœ‰ä¸€ä¸ª k8s æ¸…å•ä¸ä¹‹åŒ¹é…çš„åç§°&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nt&#34;&gt;apiVersion&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;v1&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;kind&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;Namespace&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;metadata&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;foobar&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;annotations&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;foo&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;bar&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;something&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;completely-different&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç»“æœçš„å‘½åç©ºé—´å°†å…¶æ³¨é‡Šè®¾ç½®ä¸º&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;annotations&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;foo&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;bar&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;something&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;completely-different&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
    </item>
    
    <item>
      <title>ç¯å¢ƒå˜é‡</title>
      <link>https://lib.jimmysong.io/argo-cd/user-guide/environment-variables/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>https://lib.jimmysong.io/argo-cd/user-guide/environment-variables/</guid>
      <description>&lt;p&gt;ä»¥ä¸‹ç¯å¢ƒå˜é‡å¯ä¸ &lt;code&gt;argocd&lt;/code&gt; CLI ä¸€èµ·ä½¿ç”¨ï¼š&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left&#34;&gt;ç¯å¢ƒå˜é‡&lt;/th&gt;
&lt;th style=&#34;text-align:left&#34;&gt;æè¿°&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;ARGOCD_SERVER&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ä¸å¸¦ &lt;code&gt;https://&lt;/code&gt; å‰ç¼€çš„ ArgoCD æœåŠ¡å™¨åœ°å€ï¼ˆè€Œä¸æ˜¯ä¸ºæ¯ä¸ªå‘½ä»¤æŒ‡å®š &lt;code&gt;--server&lt;/code&gt; ï¼‰ ä¾‹å¦‚ï¼š&lt;code&gt;ARGOCD_SERVER=argocd.mycompany.com&lt;/code&gt; å¦‚æœé€šè¿‡ DNS å…¥å£æä¾›æœåŠ¡&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;ARGOCD_AUTH_TOKEN&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ArgoCD &lt;code&gt;apiKey&lt;/code&gt; ä»¥ä¾¿ä½ çš„ ArgoCD ç”¨æˆ·èƒ½å¤Ÿè¿›è¡Œèº«ä»½éªŒè¯&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left&#34;&gt;&lt;code&gt;ARGOCD_OPTS&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:left&#34;&gt;ä¼ é€’åˆ° &lt;code&gt;argocd&lt;/code&gt; CLI çš„å‘½ä»¤è¡Œé€‰é¡¹ï¼Œä¾‹å¦‚ &lt;code&gt;ARGOCD_OPTS=&amp;quot;--grpc-web&amp;quot;&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
</description>
    </item>
    
    <item>
      <title>é€‰æ‹©æ€§åŒæ­¥</title>
      <link>https://lib.jimmysong.io/argo-cd/user-guide/selective-sync/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>https://lib.jimmysong.io/argo-cd/user-guide/selective-sync/</guid>
      <description>&lt;p&gt;é€‰æ‹©æ€§åŒæ­¥æ˜¯ä»…åŒæ­¥æŸäº›èµ„æºçš„åŒæ­¥ã€‚ä½ å¯ä»¥ä» UI ä¸­é€‰æ‹©å“ªäº›èµ„æºï¼š&lt;/p&gt;
&lt;p&gt;















&lt;figure  id=&#34;figure-é€‰æ‹©æ€§åŒæ­¥&#34;&gt;
  &lt;div class=&#34;d-flex justify-content-center&#34;&gt;
    &lt;div class=&#34;w-100&#34; &gt;&lt;img src=&#34;../../assets/selective-sync.png&#34; alt=&#34;é€‰æ‹©æ€§åŒæ­¥&#34; loading=&#34;lazy&#34; data-zoomable /&gt;&lt;/div&gt;
  &lt;/div&gt;&lt;figcaption&gt;
      é€‰æ‹©æ€§åŒæ­¥
    &lt;/figcaption&gt;&lt;/figure&gt;
&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è¿™æ ·åšæ—¶ï¼Œè¯·è®°ä½ï¼š
&lt;ul&gt;
&lt;li&gt;ä½ çš„åŒæ­¥ä¸ä¼šè®°å½•åœ¨å†å²è®°å½•ä¸­ï¼Œå› æ­¤æ— æ³•å›æ»šã€‚&lt;/li&gt;
&lt;li&gt;Hook æœªè¿è¡Œã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;é€‰æ‹©æ€§åŒæ­¥é€‰é¡¹&#34;&gt;é€‰æ‹©æ€§åŒæ­¥é€‰é¡¹&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;v1.8&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;æ‰“å¼€é€‰æ‹©æ€§åŒæ­¥é€‰é¡¹ï¼Œè¯¥é€‰é¡¹å°†ä»…åŒæ­¥ä¸åŒæ­¥çš„èµ„æºã€‚æœ‰å…³æ›´å¤šè¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜…&lt;a href=&#34;../sync-options/&#34;&gt;åŒæ­¥é€‰é¡¹&lt;/a&gt;æ–‡æ¡£ã€‚&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>
